<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tasks: Data Layer Services Setup | A.R.C. Platform — Specs</title>
    <meta name="description" content="Feature specifications for the A.R.C. Platform">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/arc-platform/specs-site/assets/style.2yoRyxP5.css" as="style">
    <link rel="preload stylesheet" href="/arc-platform/specs-site/vp-icons.css" as="style">
    
    <script type="module" src="/arc-platform/specs-site/assets/app.CrJnuAUE.js"></script>
    <link rel="preload" href="/arc-platform/specs-site/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/framework.CTqRDTHW.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/theme.C7w5Rfbz.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/katex.BlHpptmG.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/dagre-4EVJKHTY.BQNvxXDE.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/c4Diagram-6F5ED5ID.BZvDQ32R.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/flowDiagram-7ASYPVHJ.cFK2j98V.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/erDiagram-6RL3IURR.BE5FqsCN.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/gitGraphDiagram-NRZ2UAAF.BBfmPtzD.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/ganttDiagram-NTVNEXSI.DJ-M7pfj.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/infoDiagram-A4XQUW5V.cKyNdZyL.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/pieDiagram-YF2LJOPJ.NEb9zjgq.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/quadrantDiagram-OS5C2QUG.BG0yP04Q.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/xychartDiagram-6QU3TZC5.ASsLziGO.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/requirementDiagram-MIRIMTAZ.C_XITfC3.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/sequenceDiagram-G6AWOVSC.BAPJptgf.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/classDiagram-LNE6IOMH.DTuRgXLj.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/classDiagram-v2-MQ7JQ4JX.DTuRgXLj.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/stateDiagram-MAYHULR4.DDvt5mqt.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/stateDiagram-v2-4JROLMXI.BiJocm38.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/journeyDiagram-G5WM74LC.bxI6az2f.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/timeline-definition-U7ZMHBDA.B9aTmu0t.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/mindmap-definition-GWI6TPTV.BswDOQkS.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/kanban-definition-QRCXZQQD.BudWBYYX.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/sankeyDiagram-Y46BX6SQ.eeXzVk8r.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/diagram-QW4FP2JN.DIeSLQj7.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/blockDiagram-ZHA2E4KO.C0acO5DB.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/architectureDiagram-UYN6MBPD.C3_cibSq.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/005-data-layer_tasks.md.RvyP-mow.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--[--><!--]--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/arc-platform/specs-site/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>A.R.C. Platform — Specs</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/arc-framework/arc-platform" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>GitHub</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="VPFlyout VPNolebaseEnhancedReadabilitiesMenu VPNolebaseEnhancedReadabilitiesMenuFlyout" aria-label="Enhanced Readability" role="menuitem" data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><span class="i-icon-park-outline:book-open option-icon" data-v-cf11d7a2></span><!----><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--]--></div></div></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Overview</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>001 — OTEL Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/001-otel-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/001-otel-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/001-otel-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>002 — Cortex Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/002-cortex-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/002-cortex-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/002-cortex-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>003 — Messaging Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/003-messaging-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/003-messaging-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/003-messaging-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>004 — Dev Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>005 — Data Layer</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>006 — Platform Control</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>007 — Voice Stack</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>008 — Specs Site</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _arc-platform_specs-site_005-data-layer_tasks" data-v-39a288b8><div><h1 id="tasks-data-layer-services-setup" tabindex="-1">Tasks: Data Layer Services Setup <a class="header-anchor" href="#tasks-data-layer-services-setup" aria-label="Permalink to &quot;Tasks: Data Layer Services Setup&quot;">​</a></h1><blockquote><p><strong>Spec</strong>: 005-data-layer <strong>Date</strong>: 2026-02-28</p></blockquote><h2 id="task-format" tabindex="-1">Task Format <a class="header-anchor" href="#task-format" aria-label="Permalink to &quot;Task Format&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[TASK-NNN] [P?] [MODULE] [PRIORITY] Description</span></span>
<span class="line"><span>  Dependencies: [TASK-XXX] or none</span></span>
<span class="line"><span>  Module: services/{role}</span></span>
<span class="line"><span>  Acceptance: Testable criteria</span></span>
<span class="line"><span>  Status: [ ] pending | [~] in-progress | [x] done</span></span></code></pre></div><ul><li><code>[P]</code> = Safe for parallel agent execution</li><li>Priority: P1 (must), P2 (should), P3 (nice)</li></ul><h2 id="dependency-graph" tabindex="-1">Dependency Graph <a class="header-anchor" href="#dependency-graph" aria-label="Permalink to &quot;Dependency Graph&quot;">​</a></h2><div class="mermaid"></div><h2 id="quality-requirements" tabindex="-1">Quality Requirements <a class="header-anchor" href="#quality-requirements" aria-label="Permalink to &quot;Quality Requirements&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Module</th><th>Coverage</th><th>Lint</th><th>Notes</th></tr></thead><tbody><tr><td>Config/YAML</td><td>n/a</td><td><code>docker compose config</code> (no syntax errors)</td><td></td></tr><tr><td>Makefile</td><td>n/a</td><td><code>make -n {target}</code> dry-run passes</td><td></td></tr><tr><td>CI/CD YAML</td><td>n/a</td><td>GitHub Actions YAML schema valid</td><td></td></tr></tbody></table><hr><h2 id="phase-1-setup" tabindex="-1">Phase 1: Setup <a class="header-anchor" href="#phase-1-setup" aria-label="Permalink to &quot;Phase 1: Setup&quot;">​</a></h2><ul><li>[x] [TASK-001] [SERVICES] [P1] Update profiles.yaml — oracle + cerebro → <code>think</code>; tardis → <code>reason</code><ul><li>Dependencies: none</li><li>Module: <code>services/profiles.yaml</code></li><li>Acceptance: <ul><li><code>grep &quot;oracle&quot; services/profiles.yaml</code> matches a line under <code>think.services</code></li><li><code>grep &quot;cerebro&quot; services/profiles.yaml</code> matches a line under <code>think.services</code></li><li><code>grep &quot;tardis&quot; services/profiles.yaml</code> matches a line under <code>reason.services</code></li><li><code>ultra-instinct</code> entry unchanged (<code>services: &#39;*&#39;</code>)</li><li>File parses as valid YAML: <code>python3 -c &quot;import yaml,sys; yaml.safe_load(open(&#39;services/profiles.yaml&#39;))&quot;</code> exits 0</li></ul></li></ul></li></ul><hr><h2 id="phase-2-foundational-—-service-directories-parallel" tabindex="-1">Phase 2: Foundational — Service Directories (parallel) <a class="header-anchor" href="#phase-2-foundational-—-service-directories-parallel" aria-label="Permalink to &quot;Phase 2: Foundational — Service Directories (parallel)&quot;">​</a></h2><p>All three tasks are fully independent. Each creates 4 files: <code>Dockerfile</code>, <code>service.yaml</code>, <code>docker-compose.yml</code>, and the <code>.mk</code> file is handled in Phase 3.</p><ul><li><p>[x] [TASK-011] [P] [SERVICES] [P1] Create <code>services/persistence/</code> — Oracle (Postgres 17)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/persistence/</code></li><li>Acceptance: <ul><li><code>Dockerfile</code>: <code>FROM postgres:17-alpine</code>; OCI labels (<code>org.opencontainers.image.title</code>, <code>source</code>); <code>arc.service.name=arc-sql-db</code>, <code>arc.service.codename=oracle</code>, <code>arc.service.tech=postgres</code>; no USER directive (postgres user uid 70 is default)</li><li><code>service.yaml</code>: name <code>arc-sql-db</code>, codename <code>oracle</code>, image <code>ghcr.io/arc-framework/arc-sql-db:latest</code>, tech <code>postgres</code>, upstream <code>postgres:17-alpine</code>, ports <code>[5432]</code>, health <code>pg_isready -U arc</code>, depends_on <code>[]</code></li><li><code>docker-compose.yml</code>: service <code>arc-sql-db</code>; env <code>POSTGRES_USER=arc POSTGRES_PASSWORD=arc POSTGRES_DB=arc</code>; port <code>127.0.0.1:5432:5432</code>; volume <code>arc-sql-db-data:/var/lib/postgresql/data</code>; healthcheck <code>pg_isready -U arc || exit 1</code> interval 5s, timeout 3s, retries 10, start_period 10s; network <code>arc_platform_net</code> (external); <code>restart: unless-stopped</code></li><li><code>docker compose config</code> passes without errors</li><li><code>docker build -f services/persistence/Dockerfile services/persistence/</code> succeeds</li></ul></li><li>Reviewer notes (2026-02-28): All acceptance criteria verified. <code>docker exec arc-sql-db ps aux</code> confirms <code>postgres</code> user (uid 70) runs the postgres process. PASS.</li></ul></li><li><p>[x] [TASK-012] [P] [SERVICES] [P1] Create <code>services/vector/</code> — Cerebro (Qdrant)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/vector/</code></li><li>Acceptance: <ul><li><code>Dockerfile</code>: <code>FROM qdrant/qdrant</code>; OCI labels; <code>arc.service.name=arc-vector-db</code>, <code>arc.service.codename=cerebro</code>, <code>arc.service.tech=qdrant</code>; no USER directive (qdrant image runs as uid 1000)</li><li><code>service.yaml</code>: name <code>arc-vector-db</code>, codename <code>cerebro</code>, image <code>ghcr.io/arc-framework/arc-vector-db:latest</code>, tech <code>qdrant</code>, upstream <code>qdrant/qdrant</code>, ports <code>[6333, 6334]</code>, health <code>http://localhost:6333/readyz</code>, depends_on <code>[]</code></li><li><code>docker-compose.yml</code>: service <code>arc-vector-db</code>; ports <code>127.0.0.1:6333:6333</code> and <code>127.0.0.1:6334:6334</code>; volume <code>arc-vector-db-data:/qdrant/storage</code>; healthcheck <code>wget -qO- http://localhost:6333/readyz || exit 1</code> interval 5s, timeout 3s, retries 5, start_period 5s; network <code>arc_platform_net</code> (external); <code>restart: unless-stopped</code></li><li><code>docker compose config</code> passes without errors</li><li><code>docker build -f services/vector/Dockerfile services/vector/</code> succeeds</li></ul></li><li>Reviewer notes (2026-02-28): BLOCKED — Constitution Principle VIII violation. <ul><li>The <code>qdrant/qdrant</code> upstream image declares <code>USER 0:0</code> (root) by default. The <code>USER_ID</code> build arg defaults to 0. <code>docker inspect arc-vector-db --format &#39;{{.Config.User}}&#39;</code> returns <code>0:0</code> and <code>docker exec arc-vector-db whoami</code> returns <code>root</code>.</li><li>The Dockerfile comment &quot;qdrant image runs as uid 1000 by default&quot; is factually incorrect — the upstream image runs as root unless the image is rebuilt with <code>--build-arg USER_ID=1000</code>.</li><li>Acceptance criterion says &quot;no USER directive (qdrant image runs as uid 1000)&quot; — this is wrong. A <code>user: &quot;1000:1000&quot;</code> entry must be added to <code>services/vector/docker-compose.yml</code> (same approach as Tardis), or the Dockerfile must rebuild with <code>--build-arg USER_ID=1000</code> and add <code>USER 1000</code>.</li><li>Acceptable healthcheck deviation (pre-approved): compose healthcheck uses <code>bash -c &#39;exec 3&lt;&gt;/dev/tcp/...&#39;</code> instead of <code>wget</code> because <code>wget</code> is not present in the qdrant image. Functional result is identical (HTTP 200 check on /readyz).</li></ul></li><li>Re-verification (2026-02-28): PASS. Dockerfile now adds USER root, pre-creates /qdrant/storage + /qdrant/snapshots with chown 1000:1000, then drops to USER 1000. docker-compose.yml adds <code>user: &quot;1000:1000&quot;</code>. Verified: <code>docker inspect arc-vector-db --format &#39;{{.Config.User}}&#39;</code> = <code>1000:1000</code>; <code>docker exec arc-vector-db id</code> = <code>uid=1000 gid=1000 groups=1000</code>. Principle VIII satisfied. PASS.</li></ul></li><li><p>[x] [TASK-013] [P] [SERVICES] [P1] Create <code>services/storage/</code> — Tardis (MinIO)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/storage/</code></li><li>Acceptance: <ul><li><code>Dockerfile</code>: <code>FROM minio/minio</code>; OCI labels; <code>arc.service.name=arc-storage</code>, <code>arc.service.codename=tardis</code>, <code>arc.service.tech=minio</code>; document uid in comment (non-root if supported, otherwise note deviation per 003-Pulsar pattern)</li><li><code>service.yaml</code>: name <code>arc-storage</code>, codename <code>tardis</code>, image <code>ghcr.io/arc-framework/arc-storage:latest</code>, tech <code>minio</code>, upstream <code>minio/minio</code>, ports <code>[9000, 9001]</code>, health <code>http://localhost:9000/minio/health/live</code>, depends_on <code>[]</code></li><li><code>docker-compose.yml</code>: service <code>arc-storage</code>; command <code>server /data --console-address &quot;:9001&quot;</code>; env <code>MINIO_ROOT_USER=arc MINIO_ROOT_PASSWORD=arc-minio-dev</code>; ports <code>127.0.0.1:9000:9000</code> and <code>127.0.0.1:9001:9001</code>; volume <code>arc-storage-data:/data</code>; healthcheck <code>curl -f http://localhost:9000/minio/health/live || exit 1</code> interval 10s, timeout 5s, retries 5, start_period 10s; network <code>arc_platform_net</code> (external); <code>restart: unless-stopped</code></li><li><code>docker compose config</code> passes without errors</li><li><code>docker build -f services/storage/Dockerfile services/storage/</code> succeeds</li><li>Non-root uid: attempt <code>user: &quot;1000:1000&quot;</code> in docker-compose first; if MinIO fails to start, try <code>USER 1000</code> in Dockerfile; if both fail, add inline comment <code># NOTE: minio/minio requires root — upstream constraint</code> (same as Pulsar in 003)</li></ul></li><li>Reviewer notes (2026-02-28): <code>user: &quot;1000:1000&quot;</code> confirmed in compose; <code>docker inspect arc-storage --format &#39;{{.Config.User}}&#39;</code> returns <code>1000:1000</code>; <code>docker exec arc-storage id</code> returns <code>uid=1000 gid=1000</code>. Dockerfile pre-creates <code>/data</code> owned by uid 1000 and drops to <code>USER 1000</code>. PASS.</li></ul></li></ul><hr><h2 id="phase-3-make-targets" tabindex="-1">Phase 3: Make Targets <a class="header-anchor" href="#phase-3-make-targets" aria-label="Permalink to &quot;Phase 3: Make Targets&quot;">​</a></h2><p>Batch A (parallel — each .mk is independent):</p><ul><li><p>[x] [TASK-021] [P] [SERVICES] [P1] Create <code>services/persistence/oracle.mk</code></p><ul><li>Dependencies: TASK-011</li><li>Module: <code>services/persistence/oracle.mk</code></li><li>Acceptance: <ul><li>Targets present: <code>oracle-help</code>, <code>oracle-build</code>, <code>oracle-build-fresh</code>, <code>oracle-up</code>, <code>oracle-down</code>, <code>oracle-health</code>, <code>oracle-logs</code>, <code>oracle-push</code>, <code>oracle-publish</code>, <code>oracle-tag</code>, <code>oracle-clean</code>, <code>oracle-nuke</code></li><li><code>oracle-health</code>: probes <code>pg_isready -U arc -h localhost -p 5432</code>; exits 0 if healthy, 1 if not</li><li><code>oracle-clean</code> / <code>oracle-nuke</code>: require typed confirmation (<code>yes</code> / <code>nuke</code>) before destructive action</li><li><code>oracle-publish</code>: pushes image then prints <code>https://github.com/orgs/$(ORG)/packages/container/arc-sql-db/settings</code></li><li><code>make oracle-help</code> lists all targets with descriptions</li><li>All targets use <code>COLOR_INFO</code>, <code>COLOR_OK</code>, <code>COLOR_ERR</code> inherited from root Makefile</li><li>All paths relative to repo root</li></ul></li></ul></li><li><p>[x] [TASK-022] [P] [SERVICES] [P1] Create <code>services/vector/cerebro.mk</code></p><ul><li>Dependencies: TASK-012</li><li>Module: <code>services/vector/cerebro.mk</code></li><li>Acceptance: <ul><li>Targets present: <code>cerebro-help</code>, <code>cerebro-build</code>, <code>cerebro-build-fresh</code>, <code>cerebro-up</code>, <code>cerebro-down</code>, <code>cerebro-health</code>, <code>cerebro-logs</code>, <code>cerebro-push</code>, <code>cerebro-publish</code>, <code>cerebro-tag</code>, <code>cerebro-clean</code>, <code>cerebro-nuke</code></li><li><code>cerebro-health</code>: probes <code>wget -qO- http://localhost:6333/readyz</code>; exits 0 if healthy, 1 if not</li><li><code>cerebro-clean</code> / <code>cerebro-nuke</code>: require typed confirmation before destructive action</li><li><code>cerebro-publish</code>: pushes then prints settings URL</li><li><code>make cerebro-help</code> lists all targets</li></ul></li><li>Reviewer notes (2026-02-28): All targets present and function correctly. Minor acceptable deviation: <code>cerebro-health</code> in the .mk uses <code>curl -sf</code> (not <code>wget</code>) to probe from the host — functionally identical. PASS.</li></ul></li><li><p>[x] [TASK-023] [P] [SERVICES] [P1] Create <code>services/storage/tardis.mk</code></p><ul><li>Dependencies: TASK-013</li><li>Module: <code>services/storage/tardis.mk</code></li><li>Acceptance: <ul><li>Targets present: <code>tardis-help</code>, <code>tardis-build</code>, <code>tardis-build-fresh</code>, <code>tardis-up</code>, <code>tardis-down</code>, <code>tardis-health</code>, <code>tardis-logs</code>, <code>tardis-push</code>, <code>tardis-publish</code>, <code>tardis-tag</code>, <code>tardis-clean</code>, <code>tardis-nuke</code></li><li><code>tardis-health</code>: probes <code>curl -f http://localhost:9000/minio/health/live</code>; exits 0 if healthy, 1 if not</li><li><code>tardis-clean</code> / <code>tardis-nuke</code>: require typed confirmation before destructive action</li><li><code>tardis-publish</code>: pushes then prints settings URL</li><li><code>make tardis-help</code> lists all targets</li></ul></li></ul></li></ul><p>Batch B (sequential — depends on all Batch A):</p><ul><li>[x] [TASK-024] [SERVICES] [P1] Create <code>services/data.mk</code> + update root <code>Makefile</code> includes <ul><li>Dependencies: TASK-021, TASK-022, TASK-023</li><li>Module: <code>services/data.mk</code>, <code>Makefile</code></li><li>Acceptance: <ul><li><code>services/data.mk</code> targets: <code>data-help</code>, <code>data-up</code>, <code>data-down</code>, <code>data-health</code>, <code>data-logs</code></li><li><code>data-up</code>: calls <code>docker network create arc_platform_net 2&gt;/dev/null || true</code>, then <code>oracle-up</code>, <code>cerebro-up</code>, <code>tardis-up</code> sequentially</li><li><code>data-down</code>: calls <code>oracle-down</code>, <code>cerebro-down</code>, <code>tardis-down</code> sequentially</li><li><code>data-health</code>: calls all three health targets; exits non-zero if any fails</li><li><code>data-logs</code>: fans out logs from all three containers simultaneously with service name prefixes</li><li>Root <code>Makefile</code>: <code>include services/persistence/oracle.mk</code>, <code>include services/vector/cerebro.mk</code>, <code>include services/storage/tardis.mk</code>, <code>include services/data.mk</code> added after existing service includes</li><li><code>make data-help</code> lists data-* targets</li><li><code>make -n data-up</code> dry-run shows correct chain</li></ul></li></ul></li></ul><hr><h2 id="phase-4-ci-cd-parallel" tabindex="-1">Phase 4: CI/CD (parallel) <a class="header-anchor" href="#phase-4-ci-cd-parallel" aria-label="Permalink to &quot;Phase 4: CI/CD (parallel)&quot;">​</a></h2><p>Both workflows are independent and can be implemented concurrently.</p><ul><li><p>[x] [TASK-031] [P] [CI] [P1] Create <code>.github/workflows/data-images.yml</code></p><ul><li>Dependencies: TASK-024</li><li>Module: <code>.github/workflows/data-images.yml</code></li><li>Acceptance: <ul><li>Mirrors <code>messaging-images.yml</code> structure exactly</li><li><code>on.push.paths</code>: <code>services/persistence/**</code>, <code>services/vector/**</code>, <code>services/storage/**</code>, <code>.github/workflows/data-images.yml</code></li><li><code>on.pull_request.paths</code>: same service paths</li><li><code>on.workflow_dispatch</code> with <code>mode</code> input (<code>ci</code> / <code>release</code>)</li><li><code>changes</code> job uses <code>dorny/paths-filter@v3</code> with filters <code>oracle</code>, <code>cerebro</code>, <code>tardis</code></li><li><code>build-oracle</code>, <code>build-cerebro</code>, <code>build-tardis</code> jobs: parallel, each uses <code>_reusable-build.yml</code><ul><li><code>platforms: linux/amd64</code></li><li><code>service-path: services/persistence</code> / <code>services/vector</code> / <code>services/storage</code></li></ul></li><li><code>security-oracle</code>, <code>security-cerebro</code>, <code>security-tardis</code> jobs: run after respective builds; <code>block-on-failure: false</code> in CI; <code>_reusable-security.yml</code></li><li>YAML is valid; <code>act</code> dry-run passes if available</li></ul></li></ul></li><li><p>[x] [TASK-032] [P] [CI] [P1] Create <code>.github/workflows/data-release.yml</code></p><ul><li>Dependencies: TASK-024</li><li>Module: <code>.github/workflows/data-release.yml</code></li><li>Acceptance: <ul><li>Mirrors <code>messaging-release.yml</code> structure exactly</li><li><code>on.push.tags</code>: <code>data/v*</code></li><li><code>prepare</code> job: derives <code>image-tag</code> (<code>data/v0.1.0</code> → <code>data-v0.1.0</code>), <code>version</code>, <code>prerelease</code> outputs</li><li><code>build-oracle</code>, <code>build-cerebro</code>, <code>build-tardis</code>: parallel after <code>prepare</code>; <code>platforms: linux/amd64,linux/arm64</code>; <code>push-image: true</code>, <code>latest-tag: true</code>, <code>image-tag: ${{ needs.prepare.outputs.image-tag }}</code></li><li><code>security-oracle</code>, <code>security-cerebro</code>, <code>security-tardis</code>: <code>block-on-failure: true</code>; <code>create-issues: true</code> (CRITICAL CVEs block release)</li><li><code>release</code> job: generates release notes with image table (arc-sql-db, arc-vector-db, arc-storage); creates GitHub release via <code>softprops/action-gh-release@v2</code></li><li>Release notes include <code>make data-up</code> / <code>make data-health</code> quick-start</li><li>YAML is valid</li></ul></li></ul></li></ul><hr><h2 id="phase-5-integration" tabindex="-1">Phase 5: Integration <a class="header-anchor" href="#phase-5-integration" aria-label="Permalink to &quot;Phase 5: Integration&quot;">​</a></h2><ul><li>[x] [TASK-041] [SERVICES] [P1] End-to-end verification — data layer up + health <ul><li>Dependencies: TASK-031, TASK-032</li><li>Module: <code>services/persistence/</code>, <code>services/vector/</code>, <code>services/storage/</code></li><li>Acceptance: <ul><li><code>docker network create arc_platform_net 2&gt;/dev/null || true</code> runs without error</li><li><code>make data-up</code> exits 0; <code>docker compose ps</code> shows arc-sql-db, arc-vector-db, arc-storage all in <code>healthy</code> state</li><li><code>make data-health</code> exits 0 (all three health probes pass)</li><li><code>make data-down</code> exits 0; all three containers stop; no orphaned containers</li><li>Independent health checks pass: <code>make oracle-health</code>, <code>make cerebro-health</code>, <code>make tardis-health</code></li><li><code>curl -s http://localhost:6333/readyz</code> returns HTTP 200</li><li><code>curl -s http://localhost:9000/minio/health/live</code> returns HTTP 200</li><li><code>docker exec arc-sql-db pg_isready -U arc</code> exits 0</li><li>All ports bound to <code>127.0.0.1</code>: <code>docker compose ps</code> confirms</li><li>All volumes are named: <code>docker volume ls | grep arc</code> shows <code>arc-sql-db-data</code>, <code>arc-vector-db-data</code>, <code>arc-storage-data</code></li><li>After <code>make data-up</code> + <code>make cortex-docker-up</code>: <code>curl -s http://localhost:8081/health/deep | jq .oracle.status</code> returns <code>&quot;ok&quot;</code></li></ul></li><li>Reviewer notes (2026-02-28): 10 of 11 criteria PASS. BLOCKED on TASK-012 (Cerebro runs as root). <ul><li>Criteria 1-10 all verified and passing in live test.</li><li>Criterion 11 (Cortex oracle health): <code>&quot;ok&quot;: false</code> — FAIL. Root cause is a pre-existing mismatch in Cortex config (commit 1d15b07): Cortex defaults <code>bootstrap.postgres.db=arc_db</code> and has no password configured, while Oracle compose sets <code>POSTGRES_DB=arc</code> and <code>POSTGRES_PASSWORD=arc</code>. This is not introduced by 005-data-layer. The implementer must align either Cortex&#39;s config or Oracle&#39;s env (or both) and document in Cortex&#39;s compose. This criterion blocks TASK-041 until resolved.</li></ul></li><li>Re-verification (2026-02-28): ALL 11 criteria PASS. <ul><li>Criterion 11 fix: <code>services/cortex/internal/config/config.go</code> now sets default <code>bootstrap.postgres.password=&quot;&quot;</code> and <code>bootstrap.postgres.db=&quot;arc&quot;</code> (was <code>arc_db</code>). <code>services/cortex/docker-compose.yml</code> injects <code>CORTEX_BOOTSTRAP_POSTGRES_PASSWORD: arc</code>. <code>curl -s http://localhost:8081/health/deep | jq .dependencies.postgres</code> = <code>{&quot;name&quot;:&quot;arc-sql-db&quot;,&quot;ok&quot;:true,&quot;latencyMs&quot;:17}</code>. PASS.</li></ul></li></ul></li></ul><hr><h2 id="phase-6-polish" tabindex="-1">Phase 6: Polish <a class="header-anchor" href="#phase-6-polish" aria-label="Permalink to &quot;Phase 6: Polish&quot;">​</a></h2><ul><li><p>[x] [TASK-900] [P] [DOCS] [P1] Docs &amp; links update</p><ul><li>Dependencies: TASK-041</li><li>Module: <code>services/profiles.yaml</code>, <code>CLAUDE.md</code>, <code>services/cortex/service.yaml</code></li><li>Acceptance: <ul><li><code>services/profiles.yaml</code> <code>think</code> profile includes <code>oracle</code> and <code>cerebro</code> (already done in TASK-001 — verify final state)</li><li><code>services/profiles.yaml</code> <code>reason</code> profile includes <code>tardis</code></li><li><code>services/cortex/service.yaml</code> <code>depends_on</code> field references <code>oracle</code> codename (add if missing)</li><li><code>CLAUDE.md</code> monorepo layout section references <code>persistence/</code>, <code>vector/</code>, <code>storage/</code> directories (add if missing)</li><li>No broken internal references in modified files</li></ul></li><li>Reviewer notes (2026-02-28): All docs criteria pass. CLAUDE.md monorepo layout lists all three directories; service codenames table updated. cortex/service.yaml depends_on includes <code>oracle</code>. PASS.</li></ul></li><li><p>[x] [TASK-999] [REVIEW] [P1] Reviewer agent verification</p><ul><li>Dependencies: ALL</li><li>Module: all affected modules</li><li>Acceptance (reviewer runs all items from plan.md Reviewer Checklist): <ul><li>All tasks TASK-001 through TASK-900 marked complete</li><li><code>make data-up &amp;&amp; make data-health</code> exits 0</li><li><code>make data-down</code> clean shutdown</li><li>Cortex <code>/health/deep</code> shows <code>oracle: ok</code></li><li>All ports bind <code>127.0.0.1</code></li><li>All volumes are named Docker volumes</li><li><code>profiles.yaml</code> think includes oracle + cerebro; reason includes tardis</li><li><code>Makefile</code> includes oracle.mk, cerebro.mk, tardis.mk, data.mk</li><li><code>data-images.yml</code> path filters cover all three service directories</li><li><code>data-release.yml</code> tag format <code>data/v*</code>; multi-platform builds</li><li>All Dockerfiles have OCI + <code>arc.service.*</code> labels</li><li>No credentials in any compose file</li><li><code>docker inspect arc-sql-db</code> confirms postgres uid 70 (non-root default)</li><li><code>docker inspect arc-vector-db</code> confirms uid 1000 (non-root)</li><li>MinIO uid documented (non-root or deviation noted in compose comments)</li><li>Constitution compliance: II, III, IV, V, VII, VIII, XI all PASS</li></ul></li><li>Reviewer notes (2026-02-28): BLOCKED — two issues must be resolved before this can be marked done. <ul><li>ISSUE-1 (CRITICAL): <code>docker inspect arc-vector-db</code> shows <code>Config.User=0:0</code>; runtime <code>id</code> returns <code>uid=0(root)</code>. The upstream <code>qdrant/qdrant</code> image defaults to <code>USER 0:0</code>. Principle VIII (non-root containers) is violated. Fix: add <code>user: &quot;1000:1000&quot;</code> to <code>services/vector/docker-compose.yml</code> and rebuild (same pattern as Tardis), or rebuild Dockerfile with <code>--build-arg USER_ID=1000</code> and add <code>USER 1000</code>. Correct the Dockerfile comment from &quot;qdrant image runs as uid 1000 by default&quot; to reflect the actual fix.</li><li>ISSUE-2 (BLOCKER): <code>curl .../health/deep | jq &#39;.dependencies.postgres.ok&#39;</code> returns <code>false</code>. Root cause: pre-existing mismatch between Cortex defaults (<code>arc_db</code>, no password) and Oracle compose (<code>POSTGRES_DB=arc</code>, <code>POSTGRES_PASSWORD=arc</code>). Fix: align Oracle <code>POSTGRES_DB</code> to <code>arc_db</code>, or configure <code>POSTGRES_DB=arc_db</code> and add <code>BOOTSTRAP_POSTGRES_PASSWORD=arc</code> env in <code>services/cortex/docker-compose.yml</code>. Needs coordination with Cortex maintainer.</li></ul></li><li>Re-verification (2026-02-28): ALL checklist items PASS. Both issues resolved. See TASK-012 and TASK-041 re-verification notes. APPROVED.</li></ul></li></ul><hr><h2 id="progress-summary" tabindex="-1">Progress Summary <a class="header-anchor" href="#progress-summary" aria-label="Permalink to &quot;Progress Summary&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Phase</th><th>Total</th><th>Done</th><th>Blocked</th></tr></thead><tbody><tr><td>Setup</td><td>1</td><td>1</td><td>0</td></tr><tr><td>Foundational</td><td>3</td><td>3</td><td>0</td></tr><tr><td>Implementation (Make + CI)</td><td>6</td><td>6</td><td>0</td></tr><tr><td>Integration</td><td>1</td><td>1</td><td>0</td></tr><tr><td>Polish</td><td>2</td><td>2</td><td>0</td></tr><tr><td><strong>Total</strong></td><td><strong>13</strong></td><td><strong>13</strong></td><td><strong>0</strong></td></tr></tbody></table><p>All tasks complete. Re-verified 2026-02-28.</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/arc-framework/arc-platform/edit/main/specs/005-data-layer/tasks.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2026-02-28T20:32:13.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/arc-platform/specs-site/005-data-layer/plan.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Implementation Plan</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/arc-platform/specs-site/005-data-layer/analysis-report.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Analysis Report</span><!--]--></a></div></nav></footer><!--[--><!--[--><!--[--><div><div class="doc-git-section"><!--[--><h2 id="contributors">Contributors <a class="header-anchor" href="#contributors" aria-label="Permalink to &#39;Contributors&#39;"></a></h2><div class="vp-nolebase-git-changelog vp-nolebase-git-changelog-contributors vp-nolebase-git-changelog-contributors-container vp-nolebase-git-changelog-contributors-list" flex flex-wrap gap-4 pt-2><!--[--><!--[--><a href="https://github.com/dgtalbug" class="no-icon flex items-center gap-2"><img src="https://github.com/dgtalbug.png" alt="The avatar of contributor named as DgtalBug" class="h-8 w-8 rounded-full"> DgtalBug</a><!--]--><!--]--></div><!--]--></div><div class="doc-git-section"><!--[--><h2 id="changelog" data-v-9cc63e9c>Changelog <a class="header-anchor" href="#changelog" aria-label="Permalink to &#39;Changelog&#39;" data-v-9cc63e9c></a></h2><div class="bg-green/16 vp-nolebase-git-changelog vp-nolebase-git-changelog-history vp-nolebase-git-changelog-history-list vp-nolebase-git-changelog-history-container" rounded-lg p-4 data-v-9cc63e9c><label cursor-pointer data-v-9cc63e9c><div class="vp-nolebase-git-changelog-title flex select-none items-center justify-between" transition="color ease-in-out" text="&lt;sm:xs" duration-200 data-v-9cc63e9c><span class="vp-nolebase-git-changelog-last-edited-title inline-flex items-center gap-3" data-v-9cc63e9c><div class="i-octicon:history-16" data-v-9cc63e9c></div><span data-v-9cc63e9c>Last edited about 2 hours ago</span></span><div class="i-octicon:sort-desc-16" ml-auto mr-4 cursor-pointer data-v-9cc63e9c></div><span class="vp-nolebase-git-changelog-view-full-history-title inline-flex cursor-pointer items-center gap-3" data-v-9cc63e9c><span class="&lt;sm:hidden" data-v-9cc63e9c>View full history</span><svg class="rotate-0 i-octicon:chevron-down-16" transition="transform ease-in-out" duration-200 data-v-9cc63e9c></svg></span></div></label><div class="grid grid-cols-[30px_auto] mt-3 gap-1.5 children:my-auto -ml-1.5" text="&lt;sm:xs" style="display:none;" data-v-9cc63e9c><!--[--><!--[--><!--[--><div class="i-octicon:git-commit-16 m-auto rotate-90 transform op-30" data-v-0e4a2b5f></div><div flex gap-1 align-baseline data-v-0e4a2b5f><a href="https://github.com/arc-framework/arc-platform/commit/01a7521e62e6809c8f039db966f0760bafe9809b" target="_blank" class="no-icon" data-v-0e4a2b5f><code class="text-xs text-$vp-c-brand-1 hover:text-$vp-c-brand-1" transition="color ease-in-out" duration-200 data-v-0e4a2b5f>01a7521</code></a><span data-v-0e4a2b5f>-</span><span data-v-0e4a2b5f><span class="text-sm &lt;sm:text-xs" data-v-0e4a2b5f>007 voice stack (<a class="no-icon" href='https://github.com/arc-framework/arc-platform/issues/6'>#6</a>)</span><!----><!----></span></div><!--]--><!--]--><!--[--><!--[--><div class="i-octicon:git-commit-16 m-auto rotate-90 transform op-30" data-v-0e4a2b5f></div><div flex gap-1 align-baseline data-v-0e4a2b5f><a href="https://github.com/arc-framework/arc-platform/commit/592012f9891bc9e200a32dc8bf01dfd090e24393" target="_blank" class="no-icon" data-v-0e4a2b5f><code class="text-xs text-$vp-c-brand-1 hover:text-$vp-c-brand-1" transition="color ease-in-out" duration-200 data-v-0e4a2b5f>592012f</code></a><span data-v-0e4a2b5f>-</span><span data-v-0e4a2b5f><span class="text-sm &lt;sm:text-xs" data-v-0e4a2b5f>005 data layer (<a class="no-icon" href='https://github.com/arc-framework/arc-platform/issues/4'>#4</a>)</span><!----><!----></span></div><!--]--><!--]--><!--]--></div></div><!--]--></div></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"001-otel-setup_plan.md\":\"sDUEUbMO\",\"001-otel-setup_spec.md\":\"CJPhp4aX\",\"001-otel-setup_tasks.md\":\"C1001ZH2\",\"002-cortex-setup_plan.md\":\"BwU6Fjzi\",\"002-cortex-setup_spec.md\":\"BKLpWvhW\",\"002-cortex-setup_tasks.md\":\"DFrAvq8h\",\"003-messaging-setup_plan.md\":\"CQ2EMuvJ\",\"003-messaging-setup_spec.md\":\"BGIiojNX\",\"003-messaging-setup_tasks.md\":\"BXgDFPu3\",\"004-dev-setup_analysis-report.md\":\"D_eIVFRV\",\"004-dev-setup_plan.md\":\"Gx62n0Rn\",\"004-dev-setup_spec.md\":\"B4uoQBEN\",\"004-dev-setup_tasks.md\":\"C8HKvgr3\",\"005-data-layer_analysis-report.md\":\"xWyUAy-F\",\"005-data-layer_plan.md\":\"WHr2r4lG\",\"005-data-layer_spec.md\":\"iIlUygHy\",\"005-data-layer_tasks.md\":\"RvyP-mow\",\"006-platform-control_analysis-report.md\":\"Cgfo-uOJ\",\"006-platform-control_plan.md\":\"dOwPz9ph\",\"006-platform-control_spec.md\":\"i3OV7Kt_\",\"006-platform-control_tasks.md\":\"6q3LBrYs\",\"007-voice-stack_analysis-report.md\":\"CIyo3E0m\",\"007-voice-stack_plan.md\":\"Bgt7CcwW\",\"007-voice-stack_spec.md\":\"CYV675n9\",\"007-voice-stack_tasks.md\":\"mu-sUtDi\",\"008-specs-site_analysis-report.md\":\"B8taqzdU\",\"008-specs-site_plan.md\":\"APsRkdzO\",\"008-specs-site_spec.md\":\"6xCGFKWv\",\"008-specs-site_tasks.md\":\"By-E8J7o\",\"index.md\":\"CuVMC3IU\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"A.R.C. Platform — Specs\",\"description\":\"Feature specifications for the A.R.C. Platform\",\"base\":\"/arc-platform/specs-site/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"GitHub\",\"link\":\"https://github.com/arc-framework/arc-platform\"}],\"sidebar\":[{\"text\":\"Overview\",\"link\":\"/\"},{\"text\":\"001 — OTEL Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/001-otel-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/001-otel-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/001-otel-setup/tasks\"}]},{\"text\":\"002 — Cortex Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/002-cortex-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/002-cortex-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/002-cortex-setup/tasks\"}]},{\"text\":\"003 — Messaging Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/003-messaging-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/003-messaging-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/003-messaging-setup/tasks\"}]},{\"text\":\"004 — Dev Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/004-dev-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/004-dev-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/004-dev-setup/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/004-dev-setup/analysis-report\"}]},{\"text\":\"005 — Data Layer\",\"items\":[{\"text\":\"Specification\",\"link\":\"/005-data-layer/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/005-data-layer/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/005-data-layer/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/005-data-layer/analysis-report\"}]},{\"text\":\"006 — Platform Control\",\"items\":[{\"text\":\"Specification\",\"link\":\"/006-platform-control/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/006-platform-control/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/006-platform-control/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/006-platform-control/analysis-report\"}]},{\"text\":\"007 — Voice Stack\",\"items\":[{\"text\":\"Specification\",\"link\":\"/007-voice-stack/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/007-voice-stack/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/007-voice-stack/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/007-voice-stack/analysis-report\"}]},{\"text\":\"008 — Specs Site\",\"items\":[{\"text\":\"Specification\",\"link\":\"/008-specs-site/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/008-specs-site/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/008-specs-site/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/008-specs-site/analysis-report\"}]}],\"editLink\":{\"pattern\":\"https://github.com/arc-framework/arc-platform/edit/main/specs/:path\",\"text\":\"Edit this page on GitHub\"},\"search\":{\"provider\":\"local\"},\"lastUpdated\":{\"text\":\"Last updated\",\"formatOptions\":{\"dateStyle\":\"short\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>