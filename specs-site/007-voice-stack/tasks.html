<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tasks: Realtime Voice Infrastructure Setup | A.R.C. Platform — Specs</title>
    <meta name="description" content="Feature specifications for the A.R.C. Platform">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/arc-platform/specs-site/assets/style.DsSJ7PUY.css" as="style">
    <link rel="preload stylesheet" href="/arc-platform/specs-site/vp-icons.css" as="style">
    
    <script type="module" src="/arc-platform/specs-site/assets/app.CVHCNgJe.js"></script>
    <link rel="preload" href="/arc-platform/specs-site/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/framework.CTqRDTHW.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/theme.BAD8a9se.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/katex.BlHpptmG.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/dagre-4EVJKHTY.CxIgk7hb.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/c4Diagram-6F5ED5ID.Darc0A7t.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/flowDiagram-7ASYPVHJ.XV5SGqFN.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/erDiagram-6RL3IURR.C8Bw5DAK.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/gitGraphDiagram-NRZ2UAAF.5kgflALw.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/ganttDiagram-NTVNEXSI.DmlkFGAc.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/infoDiagram-A4XQUW5V.DYcDV9vf.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/pieDiagram-YF2LJOPJ.DTJJkX_g.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/quadrantDiagram-OS5C2QUG.nGTm-y0y.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/xychartDiagram-6QU3TZC5.DGvhPIXr.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/requirementDiagram-MIRIMTAZ.CbhIVGS_.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/sequenceDiagram-G6AWOVSC.RFMrdxxI.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/classDiagram-LNE6IOMH.BndUM_t7.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/classDiagram-v2-MQ7JQ4JX.BndUM_t7.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/stateDiagram-MAYHULR4.BSQmFpPd.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/stateDiagram-v2-4JROLMXI.OOFFD19V.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/journeyDiagram-G5WM74LC.DOWgOJ2F.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/timeline-definition-U7ZMHBDA.C1r5Uwis.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/mindmap-definition-GWI6TPTV.DfYBihb2.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/kanban-definition-QRCXZQQD.CgR27Qyw.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/sankeyDiagram-Y46BX6SQ.Bw3fdYlp.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/diagram-QW4FP2JN.CLqSxABC.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/blockDiagram-ZHA2E4KO.DTfNcFCt.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/architectureDiagram-UYN6MBPD.CdawqfnA.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/arc-platform/specs-site/assets/007-voice-stack_tasks.md.DpsFgg8d.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--[--><!--]--><!--]--><!--[--><span tabindex="-1" data-v-0b0ada53></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0b0ada53>Skip to content</a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/arc-platform/specs-site/" data-v-1168a8e4><!--[--><!--]--><!----><span data-v-1168a8e4>A.R.C. Platform — Specs</span><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://github.com/arc-framework/arc-platform" target="_blank" rel="noreferrer" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>GitHub</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--[--><!--[--><div class="VPFlyout VPNolebaseEnhancedReadabilitiesMenu VPNolebaseEnhancedReadabilitiesMenuFlyout" aria-label="Enhanced Readability" role="menuitem" data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><span class="i-icon-park-outline:book-open option-icon" data-v-cf11d7a2></span><!----><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--]--></div></div></div><!--]--><!--]--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-8a42e2b4><button data-v-8a42e2b4>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><!----><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Overview</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>001 — OTEL Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/001-otel-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/001-otel-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/001-otel-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>002 — Cortex Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/002-cortex-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/002-cortex-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/002-cortex-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>003 — Messaging Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/003-messaging-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/003-messaging-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/003-messaging-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>004 — Dev Setup</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/004-dev-setup/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>005 — Data Layer</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/005-data-layer/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>006 — Platform Control</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/006-platform-control/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>007 — Voice Stack</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/007-voice-stack/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b3fd67f8><div class="item" role="button" tabindex="0" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><h2 class="text" data-v-b3fd67f8>008 — Specs Site</h2><!----></div><div class="items" data-v-b3fd67f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/spec.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Specification</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/plan.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Implementation Plan</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/tasks.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Task Breakdown</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b3fd67f8 data-v-b3fd67f8><div class="item" data-v-b3fd67f8><div class="indicator" data-v-b3fd67f8></div><a class="VPLink link link" href="/arc-platform/specs-site/008-specs-site/analysis-report.html" data-v-b3fd67f8><!--[--><p class="text" data-v-b3fd67f8>Analysis Report</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _arc-platform_specs-site_007-voice-stack_tasks" data-v-39a288b8><div><p>&lt;div style=&quot;display: none;&quot; hidden=&quot;true&quot; aria-hidden=&quot;true&quot;&gt;Are you an LLM? You can read better optimized documentation at /arc-platform/specs-site/007-voice-stack/tasks.md for this page in Markdown format&lt;/div&gt;</p><h1 id="tasks-realtime-voice-infrastructure-setup" tabindex="-1">Tasks: Realtime Voice Infrastructure Setup <a class="header-anchor" href="#tasks-realtime-voice-infrastructure-setup" aria-label="Permalink to &quot;Tasks: Realtime Voice Infrastructure Setup&quot;">​</a></h1><blockquote><p><strong>Spec</strong>: 007-voice-stack <strong>Date</strong>: 2026-03-01</p></blockquote><h2 id="task-format" tabindex="-1">Task Format <a class="header-anchor" href="#task-format" aria-label="Permalink to &quot;Task Format&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>[TASK-NNN] [P?] [MODULE] [PRIORITY] Description</span></span>
<span class="line"><span>  Dependencies: [TASK-XXX] or none</span></span>
<span class="line"><span>  Module: services/{role}</span></span>
<span class="line"><span>  Acceptance: Testable criteria</span></span>
<span class="line"><span>  Status: [ ] pending | [~] in-progress | [x] done</span></span></code></pre></div><ul><li><code>[P]</code> = Safe for parallel agent execution</li><li>Priority: P1 (must), P2 (should), P3 (nice)</li></ul><h2 id="dependency-graph" tabindex="-1">Dependency Graph <a class="header-anchor" href="#dependency-graph" aria-label="Permalink to &quot;Dependency Graph&quot;">​</a></h2><div class="mermaid"></div><h2 id="quality-requirements" tabindex="-1">Quality Requirements <a class="header-anchor" href="#quality-requirements" aria-label="Permalink to &quot;Quality Requirements&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Module</th><th>Coverage</th><th>Lint</th><th>Notes</th></tr></thead><tbody><tr><td>Config/YAML</td><td>n/a</td><td><code>docker compose config</code> (no syntax errors)</td><td></td></tr><tr><td>Makefile</td><td>n/a</td><td><code>make -n {target}</code> dry-run passes</td><td></td></tr><tr><td>CI/CD YAML</td><td>n/a</td><td><code>python3 -c &quot;import yaml; yaml.safe_load(open(...))&quot;</code> exits 0</td><td></td></tr></tbody></table><hr><h2 id="phase-1-setup" tabindex="-1">Phase 1: Setup <a class="header-anchor" href="#phase-1-setup" aria-label="Permalink to &quot;Phase 1: Setup&quot;">​</a></h2><ul><li>[x] [TASK-001] [SERVICES] [P1] Update <code>services/profiles.yaml</code> — add <code>realtime</code> to <code>think</code> and <code>reason</code><ul><li>Dependencies: none</li><li>Module: <code>services/profiles.yaml</code></li><li>Acceptance: <ul><li>Python YAML validation confirms structure:<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>python3 -c &quot;</span></span>
<span class="line"><span>import yaml</span></span>
<span class="line"><span>p = yaml.safe_load(open(&#39;services/profiles.yaml&#39;))</span></span>
<span class="line"><span>assert &#39;realtime&#39; in p[&#39;think&#39;][&#39;services&#39;], &#39;realtime missing from think&#39;</span></span>
<span class="line"><span>assert &#39;realtime&#39; in p[&#39;reason&#39;][&#39;services&#39;], &#39;realtime missing from reason&#39;</span></span>
<span class="line"><span>assert p[&#39;ultra-instinct&#39;][&#39;services&#39;] == &#39;*&#39;, &#39;ultra-instinct changed&#39;</span></span>
<span class="line"><span>print(&#39;profiles.yaml OK&#39;)</span></span>
<span class="line"><span>&quot;</span></span></code></pre></div></li><li><code>ultra-instinct</code> remains <code>&#39;*&#39;</code> (unchanged — wildcard already includes realtime)</li><li>All existing entries in <code>think</code> and <code>reason</code> preserved (no accidental removal)</li></ul></li><li>Status: [x]</li></ul></li></ul><hr><h2 id="phase-2-core-files-fully-parallel" tabindex="-1">Phase 2: Core Files (fully parallel) <a class="header-anchor" href="#phase-2-core-files-fully-parallel" aria-label="Permalink to &quot;Phase 2: Core Files (fully parallel)&quot;">​</a></h2><p>All five tasks are independent — different files in the same directory. Run concurrently.</p><ul><li><p>[x] [TASK-011] [P] [SERVICES] [P1] Create <code>services/realtime/Dockerfile</code> — arc-realtime (LiveKit Server)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/realtime/Dockerfile</code></li><li>Acceptance: <ul><li><code>FROM livekit/livekit-server</code></li><li>OCI labels: <code>org.opencontainers.image.title</code>, <code>org.opencontainers.image.description</code>, <code>org.opencontainers.image.source=https://github.com/arc-framework/arc-platform</code></li><li>Arc service labels: <code>arc.service.name=arc-realtime</code>, <code>arc.service.codename=daredevil</code>, <code>arc.service.tech=livekit</code>, <code>arc.service.role=realtime</code></li><li>Run <code>docker run --rm --entrypoint id livekit/livekit-server</code> to verify user: <ul><li>If non-root → add <code>USER</code> directive for explicit declaration</li><li>If root → add comment: <code># livekit/livekit-server runs as root by default. This is a DEVELOPMENT-ONLY service. For production: build with non-root user.</code></li></ul></li><li><code>docker build -f services/realtime/Dockerfile services/realtime/</code> succeeds locally</li></ul></li><li>Status: [x]</li></ul></li><li><p>[x] [TASK-012] [P] [SERVICES] [P1] Create <code>services/realtime/Dockerfile.ingress</code> — arc-realtime-ingress (LK Ingress)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/realtime/Dockerfile.ingress</code></li><li>Acceptance: <ul><li><code>FROM livekit/ingress</code></li><li>OCI labels: <code>org.opencontainers.image.title</code>, <code>org.opencontainers.image.description</code>, <code>org.opencontainers.image.source</code></li><li>Arc service labels: <code>arc.service.name=arc-realtime-ingress</code>, <code>arc.service.codename=sentry</code>, <code>arc.service.tech=livekit-ingress</code>, <code>arc.service.role=realtime-ingress</code></li><li>Non-root handling: same verify-and-document pattern as TASK-011</li><li><code>docker build -f services/realtime/Dockerfile.ingress services/realtime/</code> succeeds locally</li></ul></li><li>Status: [x]</li></ul></li><li><p>[x] [TASK-013] [P] [SERVICES] [P1] Create <code>services/realtime/Dockerfile.egress</code> — arc-realtime-egress (LK Egress)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/realtime/Dockerfile.egress</code></li><li>Acceptance: <ul><li><code>FROM livekit/egress</code></li><li>OCI labels: <code>org.opencontainers.image.title</code>, <code>org.opencontainers.image.description</code>, <code>org.opencontainers.image.source</code></li><li>Arc service labels: <code>arc.service.name=arc-realtime-egress</code>, <code>arc.service.codename=scribe</code>, <code>arc.service.tech=livekit-egress</code>, <code>arc.service.role=realtime-egress</code></li><li>Non-root handling: same verify-and-document pattern as TASK-011</li><li>Dockerfile comment: <code># NOTE: livekit/egress bundles headless Chromium (~1GB). Track-based egress (no Chrome) is a future optimization (see plan.md TD-005).</code></li><li><code>docker build -f services/realtime/Dockerfile.egress services/realtime/</code> succeeds locally</li></ul></li><li>Status: [x]</li></ul></li><li><p>[x] [TASK-014] [P] [SERVICES] [P1] Create <code>services/realtime/livekit.yaml</code>, <code>ingress.yaml</code>, <code>egress.yaml</code></p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/realtime/</code></li><li>Acceptance: <ul><li><code>livekit.yaml</code>: <ul><li><code>port: 7880</code>, <code>grpc_port: 7881</code></li><li><code>rtc.tcp_port: 7882</code>, <code>rtc.udp_port_range_start: 50100</code>, <code>rtc.udp_port_range_end: 50200</code></li><li><code>rtc.use_external_ip: false</code></li><li><code>rtc.node_ip</code> sourced from env (LiveKit supports <code>${LIVEKIT_NODE_IP}</code> or compose env injection)</li><li><code>redis.address: arc-cache:6379</code></li><li><code>keys:</code> block with <code>devkey: devsecret</code></li><li>Comment: <code># API keys are static dev values. Production: replace with dynamic secrets from OpenBao.</code></li></ul></li><li><code>ingress.yaml</code>: <ul><li><code>api_url: ws://arc-realtime:7880</code></li><li><code>api_key: devkey</code>, <code>api_secret: devsecret</code></li><li>Health port: 7888 (either via config key or LK Ingress env <code>HEALTH_PORT=7888</code>)</li></ul></li><li><code>egress.yaml</code>: <ul><li><code>api_url: ws://arc-realtime:7880</code></li><li><code>api_key: devkey</code>, <code>api_secret: devsecret</code></li><li>S3/MinIO output config pointing to <code>http://arc-storage:9000</code>, bucket <code>recordings</code>, credentials <code>arc</code>/<code>arc-minio-dev</code>, <code>force_path_style: true</code></li><li>Comment: <code># &#39;recordings&#39; bucket must exist in arc-storage. Run: docker exec arc-storage mc mb /data/recordings</code></li></ul></li><li>All three files are valid YAML: <code>python3 -c &quot;import yaml; [yaml.safe_load(open(f)) for f in [&#39;services/realtime/livekit.yaml&#39;,&#39;services/realtime/ingress.yaml&#39;,&#39;services/realtime/egress.yaml&#39;]]&quot;</code> exits 0</li></ul></li><li>Status: [x]</li></ul></li><li><p>[x] [TASK-015] [P] [SERVICES] [P1] Create <code>services/realtime/service.yaml</code></p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/realtime/service.yaml</code></li><li>Acceptance: <ul><li>Fields present: <code>name: arc-realtime</code>, <code>codename: daredevil</code>, <code>role: realtime</code>, <code>image: ghcr.io/arc-framework/arc-realtime:latest</code>, <code>tech: livekit</code>, <code>upstream: livekit/livekit-server</code></li><li><code>ports</code> list includes: 7880 (http, LiveKit API + WebRTC signalling), 7881 (grpc, gRPC API), 7882 (tcp, TURN), 50100-50200 (udp, WebRTC RTP media)</li><li><code>health.endpoint: http://localhost:7880</code></li><li><code>depends_on: [cache]</code></li><li><code>sidecars</code> list includes: <ul><li><code>{ name: arc-realtime-ingress, codename: sentry, port: 7888, description: &quot;RTMP ingest&quot; }</code></li><li><code>{ name: arc-realtime-egress, codename: scribe, port: 7889, description: &quot;Recording + export&quot; }</code></li></ul></li><li>Valid YAML: <code>python3 -c &quot;import yaml; yaml.safe_load(open(&#39;services/realtime/service.yaml&#39;))&quot;</code> exits 0</li></ul></li><li>Status: [x]</li></ul></li></ul><hr><h2 id="phase-3-assembly" tabindex="-1">Phase 3: Assembly <a class="header-anchor" href="#phase-3-assembly" aria-label="Permalink to &quot;Phase 3: Assembly&quot;">​</a></h2><p>Both compose and .mk can be written in parallel (different files).</p><ul><li><p>[x] [TASK-021] [P] [SERVICES] [P1] Create <code>services/realtime/docker-compose.yml</code> — all 3 services</p><ul><li>Dependencies: TASK-011, TASK-012, TASK-013, TASK-014</li><li>Module: <code>services/realtime/docker-compose.yml</code></li><li>Acceptance: <ul><li><strong>arc-realtime</strong> service: <ul><li><code>image: ghcr.io/arc-framework/arc-realtime:latest</code>; <code>build: {context: services/realtime, dockerfile: Dockerfile}</code></li><li><code>command: --config /etc/livekit.yaml</code></li><li>Volume: <code>./services/realtime/livekit.yaml:/etc/livekit.yaml:ro</code></li><li><code>environment: LIVEKIT_NODE_IP: ${LIVEKIT_NODE_IP:-127.0.0.1}</code></li><li>Ports: <code>127.0.0.1:7880:7880</code>, <code>127.0.0.1:7881:7881</code>, <code>127.0.0.1:7882:7882</code>, <code>0.0.0.0:50100-50200:50100-50200/udp</code></li><li>Port comment: <code># UDP 0.0.0.0 — WebRTC RTP media requires host-reachable port range for NAT traversal</code></li><li><code>depends_on: {arc-cache: {condition: service_healthy}}</code></li><li>Healthcheck: <code>wget -qO- http://localhost:7880 || exit 1</code> (fallback: <code>curl -sf http://localhost:7880</code>); interval 5s, timeout 3s, retries 5, start_period 10s</li><li><code>restart: unless-stopped</code></li></ul></li><li><strong>arc-realtime-ingress</strong> service: <ul><li><code>image: ghcr.io/arc-framework/arc-realtime-ingress:latest</code>; dockerfile: <code>Dockerfile.ingress</code></li><li>Volume: <code>./services/realtime/ingress.yaml:/etc/ingress.yaml:ro</code></li><li>Ports: <code>127.0.0.1:7888:7888</code>, <code>127.0.0.1:1935:1935</code></li><li><code>depends_on: {arc-realtime: {condition: service_healthy}}</code></li><li>Healthcheck: <code>:7888</code>; interval 5s, timeout 3s, retries 5, start_period 10s</li></ul></li><li><strong>arc-realtime-egress</strong> service: <ul><li><code>image: ghcr.io/arc-framework/arc-realtime-egress:latest</code>; dockerfile: <code>Dockerfile.egress</code></li><li>Volume: <code>./services/realtime/egress.yaml:/etc/egress.yaml:ro</code></li><li>Ports: <code>127.0.0.1:7889:7889</code></li><li><code>depends_on: {arc-realtime: {condition: service_healthy}}</code></li><li>Healthcheck: <code>:7889</code>; interval 5s, timeout 3s, retries 5, start_period 15s</li></ul></li><li><code>networks: {arc_platform_net: {external: true}}</code> at file bottom</li><li><code>docker compose -f services/realtime/docker-compose.yml config</code> passes without errors</li></ul></li><li><strong>Deviations (documented):</strong><ul><li><code>depends_on: arc-cache</code> omitted — Docker Compose v2 cannot express <code>condition: service_healthy</code> across separate compose files. The <code>arc-cache</code> service lives in <code>services/cache/docker-compose.yml</code>. Cross-compose ordering is delegated to the <code>.mk</code> layer: <code>make realtime-up</code> must be called after <code>make cache-up</code> (enforced by <code>SERVICE_realtime_DEPENDS := cache</code> in registry.mk). Comment added to compose file documents this: <code># arc-cache (Redis) must be running for multi-node pub/sub.</code></li><li>Healthchecks use <code>nc -z localhost &lt;port&gt;</code> instead of <code>wget</code>/<code>curl</code> — LiveKit images are Alpine-based with busybox netcat but no wget/curl in PATH. <code>nc -z</code> is more reliable for TCP port-open checks.</li><li>Retries increased from 5 → 10 (LK Server), start_period from 10s/15s → 15s/20s — LiveKit Server and Egress (Chromium bundle ~1GB) have slow cold-start; higher values prevent false-unhealthy on first launch. Conservative values; can be tuned down once baseline startup time is measured.</li><li><code>NODE_IP</code> env var name used in compose (matching LiveKit docs); spec said <code>LIVEKIT_NODE_IP</code>. Both work — the compose file maps <code>NODE_IP: ${LIVEKIT_NODE_IP:-127.0.0.1}</code>, so the override env var is still <code>LIVEKIT_NODE_IP</code> as documented in <code>realtime-help</code>.</li><li><code>ws_url</code> used in ingress.yaml/egress.yaml instead of <code>api_url</code> — <code>ws_url</code> is the correct LiveKit SDK config key for the WebSocket connection URL. Spec used <code>api_url</code> which is not a valid LK field.</li></ul></li><li>Status: [x]</li></ul></li><li><p>[x] [TASK-022] [P] [SERVICES] [P1] Create <code>services/realtime/realtime.mk</code></p><ul><li>Dependencies: TASK-021</li><li>Module: <code>services/realtime/realtime.mk</code></li><li>Acceptance: <ul><li>Image variables declared: <code>REALTIME_IMAGE</code>, <code>REALTIME_INGRESS_IMG</code>, <code>REALTIME_EGRESS_IMG</code></li><li><code>COMPOSE_REALTIME := docker compose -f services/realtime/docker-compose.yml</code></li><li><strong>Core targets</strong>: <code>realtime-help</code>, <code>realtime-up</code>, <code>realtime-down</code>, <code>realtime-health</code>, <code>realtime-logs</code>, <code>realtime-clean</code>, <code>realtime-nuke</code></li><li><strong>Build targets</strong>: <code>realtime-build</code> (Dockerfile), <code>realtime-build-fresh</code>, <code>realtime-ingress-build</code> (Dockerfile.ingress), <code>realtime-ingress-build-fresh</code>, <code>realtime-egress-build</code> (Dockerfile.egress), <code>realtime-egress-build-fresh</code></li><li><strong>Push/publish targets</strong>: <code>realtime-push</code>, <code>realtime-publish</code>, <code>realtime-tag</code>; <code>realtime-ingress-push</code>, <code>realtime-ingress-publish</code>; <code>realtime-egress-push</code>, <code>realtime-egress-publish</code></li><li><strong>Individual service targets</strong>: <code>realtime-ingress-up</code>, <code>realtime-ingress-down</code>, <code>realtime-ingress-health</code>, <code>realtime-ingress-logs</code>; <code>realtime-egress-up</code>, <code>realtime-egress-down</code>, <code>realtime-egress-health</code>, <code>realtime-egress-logs</code></li><li><code>realtime-up</code>: calls <code>docker network create arc_platform_net 2&gt;/dev/null || true</code> before compose up</li><li><code>realtime-health</code>: probes all three — <code>curl -sf http://localhost:7880</code>, <code>curl -sf http://localhost:7888</code>, <code>curl -sf http://localhost:7889</code>; exits 0 only if all pass</li><li><code>realtime-ingress-health</code>: probes <code>:7888</code>; <code>realtime-egress-health</code>: probes <code>:7889</code></li><li><code>realtime-help</code>: lists all targets; includes notes: &quot;UDP 50100-50200 must be open on host firewall for WebRTC&quot; and &quot;Set LIVEKIT_NODE_IP=&lt;machine-ip&gt; for non-local clients&quot;</li><li><code>realtime-clean</code> / <code>realtime-nuke</code>: confirm before destructive action; nuke warns &quot;active WebRTC rooms will be disconnected&quot;</li><li><code>make -n realtime-up</code> dry-run passes</li><li><code>make -n realtime-health</code> dry-run passes</li><li>All targets declare <code>.PHONY</code></li><li>All targets use <code>COLOR_INFO</code>, <code>COLOR_OK</code>, <code>COLOR_ERR</code> from root Makefile</li></ul></li><li>Status: [x]</li></ul></li></ul><hr><h2 id="phase-4-wiring" tabindex="-1">Phase 4: Wiring <a class="header-anchor" href="#phase-4-wiring" aria-label="Permalink to &quot;Phase 4: Wiring&quot;">​</a></h2><ul><li>[x] [TASK-031] [SERVICES] [P1] Update root <code>Makefile</code>, <code>scripts/scripts.mk</code>, and <code>scripts/lib/check-dev-prereqs.sh</code><ul><li>Dependencies: TASK-022</li><li>Module: <code>Makefile</code>, <code>scripts/scripts.mk</code>, <code>scripts/lib/check-dev-prereqs.sh</code></li><li>Acceptance: <ul><li>Root <code>Makefile</code>: <code>include services/realtime/realtime.mk</code> added to Services section (after control.mk include)</li><li><code>scripts/scripts.mk</code> <code>publish-all</code> target: three new lines added:<div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MAKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> realtime-build         realtime-publish         --no-print-directory</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MAKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> realtime-ingress-build realtime-ingress-publish --no-print-directory</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">MAKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> realtime-egress-build  realtime-egress-publish  --no-print-directory</span></span></code></pre></div></li><li><code>scripts/lib/check-dev-prereqs.sh</code> <code>port_to_service()</code> function: add port mappings: <ul><li><code>7880</code> → <code>daredevil</code> (or equivalent realtime service label)</li><li><code>7881</code> → <code>daredevil-grpc</code></li><li><code>1935</code> → <code>sentry-rtmp</code></li></ul></li><li><code>make -n publish-all</code> dry-run includes realtime build/publish steps</li><li><code>make help</code> lists <code>realtime-help</code></li></ul></li><li>Status: [x]</li></ul></li></ul><hr><h2 id="phase-5-ci-cd-parallel" tabindex="-1">Phase 5: CI/CD (parallel) <a class="header-anchor" href="#phase-5-ci-cd-parallel" aria-label="Permalink to &quot;Phase 5: CI/CD (parallel)&quot;">​</a></h2><p>Both workflows are independent and can be implemented concurrently.</p><ul><li><p>[x] [TASK-041] [P] [CI] [P2] Create <code>.github/workflows/realtime-images.yml</code></p><ul><li>Dependencies: TASK-031</li><li>Module: <code>.github/workflows/realtime-images.yml</code></li><li>Acceptance: <ul><li>Mirrors <code>control-images.yml</code> / <code>data-images.yml</code> structure exactly</li><li><code>on.push.branches: [main]</code> + <code>on.push.paths: [&quot;services/realtime/**&quot;, &quot;.github/workflows/realtime-images.yml&quot;]</code></li><li><code>on.pull_request.paths</code>: same path</li><li><code>on.workflow_dispatch</code> with <code>mode</code> input (<code>ci</code> / <code>release</code>)</li><li><code>changes</code> job: <code>dorny/paths-filter@v3</code> with filter <code>realtime: services/realtime/**</code></li><li><code>build-realtime</code>, <code>build-realtime-ingress</code>, <code>build-realtime-egress</code> jobs: <ul><li>Parallel; each uses <code>_reusable-build.yml</code></li><li><code>platforms: linux/amd64</code> (amd64-only in CI — no QEMU for speed)</li><li><code>service-path: services/realtime</code>; <code>dockerfile: Dockerfile</code> / <code>Dockerfile.ingress</code> / <code>Dockerfile.egress</code></li><li><code>image-name: arc-realtime</code> / <code>arc-realtime-ingress</code> / <code>arc-realtime-egress</code></li></ul></li><li><code>security-*</code> jobs after each build; <code>block-on-failure: false</code> in CI</li><li>YAML parses: <code>python3 -c &quot;import yaml,sys; yaml.safe_load(open(&#39;.github/workflows/realtime-images.yml&#39;))&quot;</code> exits 0</li><li>Three images built: <code>arc-realtime</code>, <code>arc-realtime-ingress</code>, <code>arc-realtime-egress</code></li></ul></li><li>Status: [x]</li></ul></li><li><p>[x] [TASK-042] [P] [CI] [P2] Create <code>.github/workflows/realtime-release.yml</code></p><ul><li>Dependencies: TASK-031</li><li>Module: <code>.github/workflows/realtime-release.yml</code></li><li>Acceptance: <ul><li>Mirrors <code>control-release.yml</code> / <code>data-release.yml</code> structure exactly</li><li><code>on.push.tags: [&quot;realtime/v*&quot;]</code></li><li><code>prepare</code> job: derives <code>image-tag</code> (<code>realtime/v0.1.0</code> → <code>realtime-v0.1.0</code>), <code>version</code>, <code>prerelease</code> outputs</li><li><code>build-realtime</code>, <code>build-realtime-ingress</code>, <code>build-realtime-egress</code> jobs: parallel after <code>prepare</code><ul><li><code>platforms: linux/amd64,linux/arm64</code>; <code>push-image: true</code>; <code>latest-tag: true</code>; <code>image-tag: ${{ needs.prepare.outputs.image-tag }}</code></li></ul></li><li><code>security-*</code> jobs: <code>block-on-failure: true</code>; <code>create-issues: true</code> (CRITICAL CVEs block release)</li><li><code>release</code> job: image table listing <code>arc-realtime</code>, <code>arc-realtime-ingress</code>, <code>arc-realtime-egress</code> with GHCR links; creates GitHub release via <code>softprops/action-gh-release@v2</code></li><li>Release notes include: <code>make realtime-up</code> / <code>make realtime-health</code> quickstart; <code>LIVEKIT_NODE_IP</code> env doc</li><li>YAML parses without errors</li></ul></li><li>Status: [x]</li></ul></li></ul><hr><h2 id="phase-6-integration" tabindex="-1">Phase 6: Integration <a class="header-anchor" href="#phase-6-integration" aria-label="Permalink to &quot;Phase 6: Integration&quot;">​</a></h2><ul><li>[x] [TASK-051] [SERVICES] [P1] End-to-end verification — realtime stack up + health <ul><li>Dependencies: TASK-041, TASK-042</li><li>Module: <code>services/realtime/</code></li><li>Pre-condition: <code>arc-cache</code> must be running (<code>make cache-up</code> first)</li><li>Acceptance: <ul><li><code>docker network create arc_platform_net 2&gt;/dev/null || true</code> runs without error</li><li><code>make realtime-up</code> exits 0</li><li><code>docker compose -f services/realtime/docker-compose.yml ps</code> shows all three containers in <code>healthy</code> state: <code>arc-realtime</code>, <code>arc-realtime-ingress</code>, <code>arc-realtime-egress</code></li><li><code>make realtime-health</code> exits 0 (all three probes pass)</li><li><code>curl -s http://localhost:7880</code> returns a LiveKit response (2xx or redirect)</li><li><code>curl -sf http://localhost:7888</code> returns HTTP 200 (Ingress controller alive)</li><li><code>curl -sf http://localhost:7889</code> returns HTTP 200 (Egress controller alive)</li><li>TCP ports 7880/7881/7882/7888/1935/7889 bind <code>127.0.0.1</code> — confirm with <code>docker compose -f services/realtime/docker-compose.yml ps</code></li><li>UDP 50100-50200 binds <code>0.0.0.0</code> — confirm and document exception is intentional</li><li>Config files mounted read-only: <code>docker inspect arc-realtime --format &#39;{{json .Mounts}}&#39;</code> shows <code>/etc/livekit.yaml</code> with <code>RW:false</code></li><li><code>make realtime-down</code> exits 0; no orphaned containers</li><li>Individual targets work: <code>make realtime-ingress-health</code> exits 0; <code>make realtime-egress-health</code> exits 0</li><li><code>make dev PROFILE=think</code> starts <code>realtime</code> along with other think-profile services</li></ul></li><li>Status: [x]</li></ul></li></ul><hr><h2 id="phase-7-polish" tabindex="-1">Phase 7: Polish <a class="header-anchor" href="#phase-7-polish" aria-label="Permalink to &quot;Phase 7: Polish&quot;">​</a></h2><ul><li><p>[x] [TASK-900] [P] [DOCS] [P1] Docs &amp; links update</p><ul><li>Dependencies: TASK-051</li><li>Module: <code>CLAUDE.md</code>, <code>.specify/config.yaml</code>, <code>services/profiles.yaml</code></li><li>Acceptance: <ul><li><code>CLAUDE.md</code> monorepo layout: <code>services/realtime/</code> entry added (Daredevil/Sentry/Scribe LiveKit)</li><li><code>CLAUDE.md</code> Service Codenames table: three new rows added: <ul><li>Daredevil | LiveKit Server (realtime)</li><li>Sentry | LiveKit Ingress (realtime-ingress)</li><li>Scribe | LiveKit Egress (realtime-egress)</li></ul></li><li><code>.specify/config.yaml</code> <code>services</code> list: <code>realtime</code> entry updated to <code>{ dir: &quot;realtime&quot;, codename: &quot;daredevil&quot;, tech: &quot;livekit&quot;, lang: &quot;config&quot; }</code>; confirm <code>realtime-ingress</code> (sentry) and <code>realtime-egress</code> (scribe) entries added if needed</li><li><code>services/profiles.yaml</code> <code>think</code> includes <code>realtime</code>; <code>reason</code> includes <code>realtime</code> (verify final state from TASK-001)</li><li>No broken internal references in modified files</li></ul></li><li>Status: [x]</li></ul></li><li><p>[x] [TASK-999] [REVIEW] [P1] Reviewer agent verification</p><ul><li>Dependencies: ALL</li><li>Module: all affected modules</li><li>Acceptance (reviewer runs all items without opening plan.md): <ul><li>All tasks TASK-001 through TASK-900 marked <code>[x]</code> complete</li><li><strong>Stack health</strong> (pre-condition: <code>make cache-up</code>): <ul><li><code>make realtime-up</code> exits 0</li><li><code>docker compose -f services/realtime/docker-compose.yml ps</code> shows all three containers <code>healthy</code></li><li><code>make realtime-health</code> exits 0</li><li><code>make realtime-down</code> exits 0; no orphaned containers</li></ul></li><li><strong>Individual service health</strong>: <ul><li><code>curl -s http://localhost:7880</code> → LiveKit response</li><li><code>curl -sf http://localhost:7888</code> → HTTP 200 (Ingress)</li><li><code>curl -sf http://localhost:7889</code> → HTTP 200 (Egress)</li></ul></li><li><strong>Port binding</strong>: <ul><li>TCP ports bind <code>127.0.0.1</code> only — verified via <code>docker compose ps</code></li><li>UDP 50100-50200 binds <code>0.0.0.0</code> — documented as intentional WebRTC exception</li></ul></li><li><strong>Config mounts</strong>: livekit.yaml, ingress.yaml, egress.yaml all mounted read-only</li><li><strong>API key consistency</strong>: <code>devkey</code>/<code>devsecret</code> identical across all three config files</li><li><strong>Dockerfiles</strong>: <ul><li>All three have OCI (<code>org.opencontainers.*</code>) + <code>arc.service.*</code> labels including <code>arc.service.codename</code></li><li>Non-root status verified per image; root deviation documented if required</li><li>Egress Dockerfile has note about Chromium bundle</li></ul></li><li><strong>service.yaml</strong>: contains role, codename, image, ports, health, depends_on, sidecars</li><li><strong>realtime.mk</strong>: <ul><li><code>make -n realtime-up</code> dry-run passes</li><li><code>make -n realtime-health</code> dry-run passes</li><li><code>make realtime-help</code> includes <code>LIVEKIT_NODE_IP</code> and UDP firewall notes</li></ul></li><li><strong>Makefile</strong>: <code>include services/realtime/realtime.mk</code> present</li><li><strong>scripts/scripts.mk</strong>: <code>publish-all</code> includes all three realtime build/publish steps</li><li><strong>check-dev-prereqs.sh</strong>: ports 7880, 7881, 1935 added</li><li><strong>profiles.yaml</strong>: <code>think</code> and <code>reason</code> both include <code>realtime</code>; <code>ultra-instinct</code> unchanged (<code>&#39;*&#39;</code>)</li><li><strong>CI</strong>: <ul><li><code>realtime-images.yml</code> path filter <code>services/realtime/**</code>; 3 image builds; amd64 only</li><li><code>realtime-release.yml</code> tag format <code>realtime/v*</code>; platforms <code>linux/amd64,linux/arm64</code></li></ul></li><li><strong>Docs</strong>: CLAUDE.md codenames table has Daredevil/Sentry/Scribe; layout has <code>services/realtime/</code></li><li><strong>Constitution compliance verified</strong>: <ul><li>II PASS: <code>make realtime-up</code> boots all three; joined to <code>think</code> (minimal profile)</li><li>III PASS: self-contained in <code>services/realtime/</code>; own service.yaml + compose + .mk</li><li>IV PASS: config-only upstream images, no custom Python/Go code</li><li>V PASS: same Dockerfile/compose/healthcheck/CI structure as 003/005/006</li><li>VII PASS: HTTP health endpoints :7880/:7888/:7889 with Docker healthchecks</li><li>VIII PASS†: TCP 127.0.0.1; UDP 0.0.0.0 exception documented; no secrets in git</li><li>XI PASS: depends_on ordering (cache → realtime → ingress/egress); start_periods set</li></ul></li><li>No TODO/FIXME in any file without a corresponding plan.md TD-* entry</li></ul></li><li>Status: [x]</li></ul></li></ul><hr><h2 id="progress-summary" tabindex="-1">Progress Summary <a class="header-anchor" href="#progress-summary" aria-label="Permalink to &quot;Progress Summary&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Phase</th><th>Total</th><th>Done</th><th>Parallel</th></tr></thead><tbody><tr><td>Setup</td><td>1</td><td>1</td><td>0</td></tr><tr><td>Core Files</td><td>5</td><td>5</td><td>5</td></tr><tr><td>Assembly</td><td>2</td><td>2</td><td>2</td></tr><tr><td>Wiring</td><td>1</td><td>1</td><td>0</td></tr><tr><td>CI/CD</td><td>2</td><td>2</td><td>2</td></tr><tr><td>Integration</td><td>1</td><td>1</td><td>0</td></tr><tr><td>Polish</td><td>2</td><td>2</td><td>0</td></tr><tr><td><strong>Total</strong></td><td><strong>14</strong></td><td><strong>14</strong></td><td><strong>9</strong></td></tr></tbody></table><p>&lt;NolebaseGitContributors /&gt;</p><p>&lt;NolebaseGitChangelog /&gt;</p></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/arc-framework/arc-platform/edit/main/specs/007-voice-stack/tasks.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><div class="last-updated" data-v-e257564d><p class="VPLastUpdated" data-v-e257564d data-v-e98dd255>Last updated: <time datetime="2026-02-28T20:32:13.000Z" data-v-e98dd255></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/arc-platform/specs-site/007-voice-stack/plan.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Implementation Plan</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/arc-platform/specs-site/007-voice-stack/analysis-report.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Analysis Report</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"001-otel-setup_plan.md\":\"Cj1qP5xB\",\"001-otel-setup_spec.md\":\"C4Y1t4XD\",\"001-otel-setup_tasks.md\":\"DnKNzGTg\",\"002-cortex-setup_plan.md\":\"B--tE0rY\",\"002-cortex-setup_spec.md\":\"BgmdCK7X\",\"002-cortex-setup_tasks.md\":\"CBjG7y7W\",\"003-messaging-setup_plan.md\":\"D91_TQ1E\",\"003-messaging-setup_spec.md\":\"tPtd8PBR\",\"003-messaging-setup_tasks.md\":\"DYGya-82\",\"004-dev-setup_analysis-report.md\":\"DrGhhTIj\",\"004-dev-setup_plan.md\":\"CdvyBC5F\",\"004-dev-setup_spec.md\":\"DWry0aNI\",\"004-dev-setup_tasks.md\":\"1MVnUkQo\",\"005-data-layer_analysis-report.md\":\"B2T3ukJB\",\"005-data-layer_plan.md\":\"B67GsFfB\",\"005-data-layer_spec.md\":\"D0TCGhbe\",\"005-data-layer_tasks.md\":\"BqFL8F3U\",\"006-platform-control_analysis-report.md\":\"C0nNAW0E\",\"006-platform-control_plan.md\":\"6Ki1oUDr\",\"006-platform-control_spec.md\":\"Bo6KPbRV\",\"006-platform-control_tasks.md\":\"BK3v_1R5\",\"007-voice-stack_analysis-report.md\":\"FrE1S6b6\",\"007-voice-stack_plan.md\":\"CDVBAnJ-\",\"007-voice-stack_spec.md\":\"eOOtRfYC\",\"007-voice-stack_tasks.md\":\"DpsFgg8d\",\"008-specs-site_analysis-report.md\":\"BkFpHz-0\",\"008-specs-site_plan.md\":\"O4aaYzO4\",\"008-specs-site_spec.md\":\"CxEKB4aE\",\"008-specs-site_tasks.md\":\"BxS1VlI7\",\"index.md\":\"CVmVa9Az\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"A.R.C. Platform — Specs\",\"description\":\"Feature specifications for the A.R.C. Platform\",\"base\":\"/arc-platform/specs-site/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"GitHub\",\"link\":\"https://github.com/arc-framework/arc-platform\"}],\"sidebar\":[{\"text\":\"Overview\",\"link\":\"/\"},{\"text\":\"001 — OTEL Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/001-otel-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/001-otel-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/001-otel-setup/tasks\"}]},{\"text\":\"002 — Cortex Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/002-cortex-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/002-cortex-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/002-cortex-setup/tasks\"}]},{\"text\":\"003 — Messaging Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/003-messaging-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/003-messaging-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/003-messaging-setup/tasks\"}]},{\"text\":\"004 — Dev Setup\",\"items\":[{\"text\":\"Specification\",\"link\":\"/004-dev-setup/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/004-dev-setup/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/004-dev-setup/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/004-dev-setup/analysis-report\"}]},{\"text\":\"005 — Data Layer\",\"items\":[{\"text\":\"Specification\",\"link\":\"/005-data-layer/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/005-data-layer/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/005-data-layer/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/005-data-layer/analysis-report\"}]},{\"text\":\"006 — Platform Control\",\"items\":[{\"text\":\"Specification\",\"link\":\"/006-platform-control/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/006-platform-control/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/006-platform-control/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/006-platform-control/analysis-report\"}]},{\"text\":\"007 — Voice Stack\",\"items\":[{\"text\":\"Specification\",\"link\":\"/007-voice-stack/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/007-voice-stack/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/007-voice-stack/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/007-voice-stack/analysis-report\"}]},{\"text\":\"008 — Specs Site\",\"items\":[{\"text\":\"Specification\",\"link\":\"/008-specs-site/spec\"},{\"text\":\"Implementation Plan\",\"link\":\"/008-specs-site/plan\"},{\"text\":\"Task Breakdown\",\"link\":\"/008-specs-site/tasks\"},{\"text\":\"Analysis Report\",\"link\":\"/008-specs-site/analysis-report\"}]}],\"editLink\":{\"pattern\":\"https://github.com/arc-framework/arc-platform/edit/main/specs/:path\",\"text\":\"Edit this page on GitHub\"},\"search\":{\"provider\":\"local\"},\"lastUpdated\":{\"text\":\"Last updated\",\"formatOptions\":{\"dateStyle\":\"short\"}}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>