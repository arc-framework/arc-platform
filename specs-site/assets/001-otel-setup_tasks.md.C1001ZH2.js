import{_ as a,C as c,o,c as d,j as i,a as l,b as r,w as s,E as n,ao as p,an as h}from"./chunks/framework.CTqRDTHW.js";const A=JSON.parse('{"title":"Tasks: 001-otel-setup — Stand Up SigNoz as the Observability Backend","description":"","frontmatter":{},"headers":[],"relativePath":"001-otel-setup/tasks.md","filePath":"001-otel-setup/tasks.md","lastUpdated":1771765547000}'),k={name:"001-otel-setup/tasks.md"};function u(g,e,m,y,E,f){const t=c("Mermaid");return o(),d("div",null,[e[1]||(e[1]=i("h1",{id:"tasks-001-otel-setup-—-stand-up-signoz-as-the-observability-backend",tabindex:"-1"},[l("Tasks: 001-otel-setup — Stand Up SigNoz as the Observability Backend "),i("a",{class:"header-anchor",href:"#tasks-001-otel-setup-—-stand-up-signoz-as-the-observability-backend","aria-label":'Permalink to "Tasks: 001-otel-setup — Stand Up SigNoz as the Observability Backend"'},"​")],-1)),e[2]||(e[2]=i("blockquote",null,[i("p",null,[i("strong",null,"Spec"),l(": 001-otel-setup "),i("strong",null,"Date"),l(": 2026-02-21")])],-1)),e[3]||(e[3]=i("h2",{id:"dependency-graph",tabindex:"-1"},[l("Dependency Graph "),i("a",{class:"header-anchor",href:"#dependency-graph","aria-label":'Permalink to "Dependency Graph"'},"​")],-1)),(o(),r(p,null,{default:s(()=>[n(t,{id:"mermaid-11",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20T001%5B%22TASK-001%5CnScaffold%20directories%22%5D%20--%3E%20T010%0A%20%20%20%20T001%20--%3E%20T011%0A%0A%20%20%20%20T010%5B%22TASK-010%20%5BP%5D%5Cnservice.yaml%20%E2%80%94%20widow%22%5D%20--%3E%20T020%0A%20%20%20%20T010%20--%3E%20T021%0A%20%20%20%20T011%5B%22TASK-011%20%5BP%5D%5Cnservice.yaml%20%E2%80%94%20friday%22%5D%20--%3E%20T022%0A%20%20%20%20T011%20--%3E%20T023%0A%0A%20%20%20%20T020%5B%22TASK-020%20%5BP%5D%5Cntelemetry%20compose%22%5D%20--%3E%20T030%0A%20%20%20%20T021%5B%22TASK-021%20%5BP%5D%5Cnotel-collector-config%22%5D%20--%3E%20T030%0A%20%20%20%20T022%5B%22TASK-022%20%5BP%5D%5Cnobservability%20compose%22%5D%20--%3E%20T030%0A%20%20%20%20T023%5B%22TASK-023%20%5BP%5D%5Cnobservability%20configs%22%5D%20--%3E%20T030%0A%0A%20%20%20%20T030%5B%22TASK-030%5CnRoot%20Makefile%20otel-*%20targets%22%5D%20--%3E%20T040%0A%0A%20%20%20%20T040%5B%22TASK-040%5CnE2E%20validation%22%5D%20--%3E%20T900%0A%20%20%20%20T040%20--%3E%20T901%0A%0A%20%20%20%20T900%5B%22TASK-900%20%5BP%5D%5Cntelemetry%20README%22%5D%20--%3E%20T999%0A%20%20%20%20T901%5B%22TASK-901%20%5BP%5D%5Cnobservability%20README%22%5D%20--%3E%20T999%0A%0A%20%20%20%20T999%5B%22TASK-999%5CnReviewer%20verification%22%5D%0A%0A%20%20%20%20style%20T001%20fill%3A%23fff3cd%0A%20%20%20%20style%20T030%20fill%3A%23fff3cd%0A%20%20%20%20style%20T040%20fill%3A%23fff3cd%0A%20%20%20%20style%20T999%20fill%3A%23f8d7da%0A"})]),fallback:s(()=>[...e[0]||(e[0]=[l(" Loading... ",-1)])]),_:1})),e[4]||(e[4]=h(`<p><strong>Critical path</strong>: T001 → T010/T011 → T020-T023 → T030 → T040 → T999</p><hr><h2 id="phase-1-setup" tabindex="-1">Phase 1: Setup <a class="header-anchor" href="#phase-1-setup" aria-label="Permalink to &quot;Phase 1: Setup&quot;">​</a></h2><ul><li>[x] <strong>[TASK-001]</strong> [SERVICES] [P1] Scaffold the <code>services/otel/</code> directory tree <ul><li>Dependencies: none</li><li>Module: <code>services/otel/</code></li><li>Acceptance: <ul><li><code>services/otel/telemetry/</code> exists with empty <code>service.yaml</code>, <code>docker-compose.yml</code>, <code>config/</code> dir</li><li><code>services/otel/observability/</code> exists with empty <code>service.yaml</code>, <code>docker-compose.yml</code>, <code>config/</code> dir</li><li><code>services/otel/telemetry/config/otel-collector-config.yaml</code> placeholder exists</li><li><code>services/otel/observability/config/</code> contains placeholder files for clickhouse-config.xml and zookeeper.properties</li></ul></li></ul></li></ul><hr><h2 id="phase-2-foundational" tabindex="-1">Phase 2: Foundational <a class="header-anchor" href="#phase-2-foundational" aria-label="Permalink to &quot;Phase 2: Foundational&quot;">​</a></h2><p><em>Both tasks are parallel-safe — no shared files.</em></p><ul><li><p>[x] <strong>[TASK-010]</strong> [P] [SERVICES] [P1] Write <code>service.yaml</code> for telemetry (Black Widow / widow)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/otel/telemetry/service.yaml</code></li><li>Acceptance:<div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">codename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">widow</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tech</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">signoz-otel-collector</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">upstream</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">signoz/signoz-otel-collector</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ports</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4317</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # OTLP gRPC</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4318</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">   # OTLP HTTP</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">health</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://localhost:13133/</span></span></code></pre></div></li><li>File validates as valid YAML</li></ul></li><li><p>[x] <strong>[TASK-011]</strong> [P] [SERVICES] [P1] Write <code>service.yaml</code> for observability (Friday / friday)</p><ul><li>Dependencies: TASK-001</li><li>Module: <code>services/otel/observability/service.yaml</code></li><li>Acceptance:<div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">codename</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">friday</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tech</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">signoz</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">depends_on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">telemetry</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">health</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">http://localhost:3301/api/v1/health</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">compose_services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">signoz</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">clickhouse</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">zookeeper</span></span></code></pre></div></li><li>File validates as valid YAML</li></ul></li></ul><hr><h2 id="phase-3-implementation" tabindex="-1">Phase 3: Implementation <a class="header-anchor" href="#phase-3-implementation" aria-label="Permalink to &quot;Phase 3: Implementation&quot;">​</a></h2><h3 id="parallel-batch-a-—-service-configs" tabindex="-1">Parallel Batch A — Service Configs <a class="header-anchor" href="#parallel-batch-a-—-service-configs" aria-label="Permalink to &quot;Parallel Batch A — Service Configs&quot;">​</a></h3><p><em>All four tasks are parallel-safe after Phase 2.</em></p><ul><li><p>[x] <strong>[TASK-020]</strong> [P] [SERVICES] [P1] Write <code>services/otel/telemetry/docker-compose.yml</code></p><ul><li>Dependencies: TASK-010</li><li>Module: <code>services/otel/telemetry/docker-compose.yml</code></li><li>Acceptance: <ul><li>Defines service <code>signoz-otel-collector</code> using <code>signoz/signoz-otel-collector</code> image</li><li>Collector ports bound to <code>127.0.0.1</code>: <code>127.0.0.1:4317:4317</code>, <code>127.0.0.1:4318:4318</code></li><li>Health check: <code>curl -sf http://localhost:13133/</code> with <code>interval: 10s</code>, <code>retries: 5</code>, <code>start_period: 30s</code></li><li>Mounts <code>./config/otel-collector-config.yaml</code> into container</li><li>Container runs as non-root user</li><li>Connected to shared Docker network (e.g. <code>arc_otel_net</code>)</li></ul></li></ul></li><li><p>[x] <strong>[TASK-021]</strong> [P] [SERVICES] [P1] Write <code>services/otel/telemetry/config/otel-collector-config.yaml</code></p><ul><li>Dependencies: TASK-010</li><li>Module: <code>services/otel/telemetry/config/otel-collector-config.yaml</code></li><li>Acceptance: <ul><li><code>receivers.otlp</code> configured with gRPC on <code>:4317</code> and HTTP on <code>:4318</code></li><li><code>exporters.otlp</code> (or <code>clickhousetraces</code>) points at ClickHouse endpoint on the shared Docker network</li><li><code>extensions.health_check</code> bound to <code>:13133</code></li><li><code>service.pipelines.traces</code> wires receivers → exporters</li><li><code>service.extensions</code> lists <code>health_check</code></li><li>Config is valid YAML; collector starts without errors</li></ul></li></ul></li><li><p>[x] <strong>[TASK-022]</strong> [P] [SERVICES] [P1] Write <code>services/otel/observability/docker-compose.yml</code></p><ul><li>Dependencies: TASK-011</li><li>Module: <code>services/otel/observability/docker-compose.yml</code></li><li>Acceptance: <ul><li>Three services defined: <code>zookeeper</code>, <code>clickhouse</code>, <code>signoz</code></li><li><code>clickhouse</code> depends on <code>zookeeper</code> with <code>condition: service_healthy</code></li><li><code>signoz</code> depends on <code>clickhouse</code> with <code>condition: service_healthy</code></li><li><strong>Security</strong>: ClickHouse has NO <code>ports</code> key (internal network only)</li><li><strong>Security</strong>: ZooKeeper has NO <code>ports</code> key (internal network only)</li><li><strong>Security</strong>: SigNoz UI bound to <code>127.0.0.1:3301:3301</code> (not <code>0.0.0.0</code>)</li><li>SigNoz health check: <code>curl -sf http://localhost:3301/api/v1/health</code> with <code>interval: 15s</code>, <code>retries: 8</code>, <code>start_period: 60s</code></li><li>ClickHouse health check probes readiness (e.g. <code>clickhouse-client --query &quot;SELECT 1&quot;</code>)</li><li>All containers run as non-root user</li><li>Mounts <code>./config/clickhouse-config.xml</code> and <code>./config/zookeeper.properties</code></li><li>Connected to same shared Docker network as telemetry</li></ul></li></ul></li><li><p>[x] <strong>[TASK-023]</strong> [P] [SERVICES] [P1] Write observability config files (ClickHouse + ZooKeeper)</p><ul><li>Dependencies: TASK-011</li><li>Module: <code>services/otel/observability/config/</code></li><li>Acceptance: <ul><li><code>clickhouse-config.xml</code>: sets max memory to 4GB; disables anonymous usage stats; includes comment documenting 4GB minimum requirement</li><li><code>zookeeper.properties</code>: basic ZK coordination config (dataDir, clientPort, tickTime)</li><li>Both files are valid format and cause their respective containers to start without errors</li></ul></li></ul></li></ul><h3 id="parallel-batch-b-—-orchestration" tabindex="-1">Parallel Batch B — Orchestration <a class="header-anchor" href="#parallel-batch-b-—-orchestration" aria-label="Permalink to &quot;Parallel Batch B — Orchestration&quot;">​</a></h3><p><em>Single blocking task — waits for all Batch A.</em></p><ul><li>[x] <strong>[TASK-030]</strong> [MAKEFILE] [P1] Write root <code>Makefile</code> with <code>otel-*</code> targets <ul><li>Dependencies: TASK-020, TASK-021, TASK-022, TASK-023</li><li>Module: <code>arc-platform/Makefile</code> (new file)</li><li>Acceptance — variables:<div class="language-makefile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">makefile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMPOSE                    := docker compose</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMPOSE_OTEL_TELEMETRY     := </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMPOSE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -f services/otel/telemetry/docker-compose.yml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMPOSE_OTEL_OBSERVABILITY := </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMPOSE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> -f services/otel/observability/docker-compose.yml</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMPOSE_OTEL               := </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">$(</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">COMPOSE_OTEL_TELEMETRY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">)</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                              -f services/otel/observability/docker-compose.yml</span></span></code></pre></div></li><li>Acceptance — targets exist and work: <ul><li><code>otel-up</code>: starts full stack via <code>$(COMPOSE_OTEL) up -d</code></li><li><code>otel-up-observability</code>: starts <code>$(COMPOSE_OTEL_OBSERVABILITY) up -d</code></li><li><code>otel-up-telemetry</code>: starts <code>$(COMPOSE_OTEL_TELEMETRY) up -d</code></li><li><code>otel-down</code>: <code>$(COMPOSE_OTEL) down</code></li><li><code>otel-health</code>: curls <code>:13133/</code> and <code>:3301/api/v1/health</code>; exits non-zero if either fails; prints ✓/✗ per endpoint</li><li><code>otel-logs</code>: <code>$(COMPOSE_OTEL) logs -f</code></li><li><code>otel-ps</code>: <code>$(COMPOSE_OTEL) ps</code></li></ul></li><li>All targets declared <code>.PHONY</code></li><li>No <code>cd</code> commands; all paths relative to repo root</li></ul></li></ul><hr><h2 id="phase-4-integration" tabindex="-1">Phase 4: Integration <a class="header-anchor" href="#phase-4-integration" aria-label="Permalink to &quot;Phase 4: Integration&quot;">​</a></h2><ul><li>[x] <strong>[TASK-040]</strong> [SERVICES] [P1] End-to-end validation — run the full stack and verify all success criteria <ul><li>Dependencies: TASK-030</li><li>Module: <code>arc-platform/</code> (root; validation only, no file changes)</li><li>Acceptance — all of the following pass: <ol><li><code>make otel-up</code> exits 0; all four containers reach <code>healthy</code> state (verify via <code>make otel-ps</code>)</li><li><code>make otel-health</code> exits 0</li><li><code>curl -sf http://localhost:3301/api/v1/health</code> returns HTTP 200</li><li><code>curl -sf http://localhost:13133/</code> returns HTTP 200</li><li><code>nc -z localhost 9000</code> fails (ClickHouse NOT exposed)</li><li><code>nc -z localhost 2181</code> fails (ZooKeeper NOT exposed)</li><li>Test span via telemetrygen appears in SigNoz UI → Traces within 30s:<div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docker run --rm --network host \\</span></span>
<span class="line"><span>  ghcr.io/open-telemetry/opentelemetry-collector-contrib/telemetrygen:latest \\</span></span>
<span class="line"><span>  traces --otlp-insecure --otlp-endpoint localhost:4317</span></span></code></pre></div></li><li><code>docker compose exec &lt;service&gt; whoami</code> returns non-root for all containers</li><li><code>make otel-down</code> exits 0 and removes all containers</li></ol></li></ul></li></ul><hr><h2 id="phase-5-polish" tabindex="-1">Phase 5: Polish <a class="header-anchor" href="#phase-5-polish" aria-label="Permalink to &quot;Phase 5: Polish&quot;">​</a></h2><p><em>Both README tasks are parallel-safe.</em></p><ul><li><p>[x] <strong>[TASK-900]</strong> [P] [DOCS] [P1] Write <code>services/otel/telemetry/README.md</code></p><ul><li>Dependencies: TASK-040</li><li>Module: <code>services/otel/telemetry/README.md</code></li><li>Acceptance: <ul><li>Quickstart: <code>make otel-up-telemetry</code> command</li><li>Open ports documented: 4317 (OTLP gRPC), 4318 (OTLP HTTP), 13133 (health)</li><li>Health check URL: <code>http://localhost:13133/</code></li><li>Collector config reference: where to find it, what receivers are open, what the export target is</li><li>No dead links</li></ul></li></ul></li><li><p>[x] <strong>[TASK-901]</strong> [P] [DOCS] [P1] Write <code>services/otel/observability/README.md</code></p><ul><li>Dependencies: TASK-040</li><li>Module: <code>services/otel/observability/README.md</code></li><li>Acceptance: <ul><li><strong>Prerequisites section</strong> — documents: Docker Desktop with ≥ 4GB RAM allocated to ClickHouse</li><li>Quickstart: <code>make otel-up</code> from repo root</li><li>UI URL: <code>http://localhost:3301</code></li><li>Health check URL: <code>http://localhost:3301/api/v1/health</code></li><li>Note: ClickHouse and ZooKeeper are internal-only (not accessible from host)</li><li>No dead links</li></ul></li></ul></li><li><p>[x] <strong>[TASK-999]</strong> [REVIEW] [P1] Reviewer agent verification</p><ul><li>Dependencies: TASK-900, TASK-901 (all tasks)</li><li>Module: all affected modules</li><li>Acceptance — reviewer agent confirms all of the following: <ul><li>All tasks in this file marked <code>[x]</code> complete</li><li>Directory structure matches plan: <code>services/otel/telemetry/</code>, <code>services/otel/observability/</code></li><li><code>make otel-up</code> starts all 4 containers and reaches healthy state</li><li><code>make otel-health</code> exits 0</li><li>All success criteria SC-1 through SC-7 from spec.md verified</li><li>All containers confirmed non-root</li><li>SigNoz UI bound to <code>127.0.0.1</code> (confirmed in docker-compose.yml)</li><li>ClickHouse and ZooKeeper have no <code>ports</code> key in their compose config</li><li>No secrets or credentials in any committed file</li><li>Both READMEs exist with required sections</li><li>Constitution Principles II, III, VII, VIII — all PASS</li><li>No TODO/FIXME without a tracking issue</li></ul></li></ul></li></ul><hr><h2 id="phase-6-image-strategy-naming" tabindex="-1">Phase 6: Image Strategy &amp; Naming <a class="header-anchor" href="#phase-6-image-strategy-naming" aria-label="Permalink to &quot;Phase 6: Image Strategy &amp; Naming&quot;">​</a></h2><p><em>Codifies the arc-friday-</em> naming convention and Approach C image strategy from platform-spike.*</p><ul><li><p>[x] <strong>[TASK-050]</strong> [SERVICES] [P1] Fix broken hostname references baked into collector image configs</p><ul><li>Dependencies: none (prerequisite for otel-build to produce working images)</li><li>Module: <code>services/otel/telemetry/config/</code>, <code>services/otel/observability/config/</code></li><li>Acceptance: <ul><li><code>otel-collector-config.yaml</code>: <code>clickhouse:9000</code> → <code>arc-friday-clickhouse:9000</code></li><li><code>otel-collector-opamp-config.yaml</code>: <code>signoz:4320</code> → <code>arc-friday:4320</code></li><li><code>clickhouse-cluster.xml</code>: <code>&lt;host&gt;clickhouse&lt;/host&gt;</code> → <code>&lt;host&gt;arc-friday-clickhouse&lt;/host&gt;</code>; <code>&lt;host&gt;zookeeper&lt;/host&gt;</code> → <code>&lt;host&gt;arc-friday-zookeeper&lt;/host&gt;</code></li><li><code>make otel-build</code> produces images; <code>make otel-up</code> shows all 6 containers reach healthy/exited-0 state</li></ul></li></ul></li><li><p>[x] <strong>[TASK-051]</strong> [SERVICES] [P1] Rename all containers and images to <code>arc-friday-*</code> in docker-compose.yml and Makefile</p><ul><li>Dependencies: TASK-050</li><li>Module: <code>services/otel/docker-compose.yml</code>, <code>Makefile</code></li><li>Acceptance: <ul><li><code>docker ps</code> shows: <code>arc-friday</code>, <code>arc-friday-collector</code>, <code>arc-friday-clickhouse</code>, <code>arc-friday-zookeeper</code>, <code>arc-friday-migrator-sync</code> (exited 0), <code>arc-friday-migrator-async</code> (exited 0)</li><li>Images: <code>ghcr.io/arc-framework/arc-friday:latest</code>, <code>ghcr.io/arc-framework/arc-friday-collector:latest</code>, etc.</li><li>All DSNs use <code>tcp://arc-friday-clickhouse:9000</code></li><li>Volumes named <code>arc-friday-clickhouse</code>, <code>arc-friday-zookeeper</code>, <code>arc-friday-sqlite</code></li></ul></li></ul></li><li><p>[x] <strong>[TASK-052]</strong> [CI] [P1] Update <code>.github/workflows/otel-images.yml</code> matrix to use new image names</p><ul><li>Dependencies: TASK-051</li><li>Module: <code>.github/workflows/otel-images.yml</code></li><li>Acceptance: <ul><li>Matrix contains: <code>arc-friday</code>, <code>arc-friday-collector</code>, <code>arc-friday-clickhouse</code>, <code>arc-friday-zookeeper</code></li><li>Each entry has correct <code>context</code> and <code>dockerfile</code> path</li><li>Workflow produces images at <code>ghcr.io/arc-framework/arc-friday-*</code></li></ul></li></ul></li><li><p>[x] <strong>[TASK-053]</strong> [CI] [P] Create <code>.github/config/publish-observability.json</code></p><ul><li>Dependencies: TASK-051</li><li>Module: <code>.github/config/publish-observability.json</code></li><li>Acceptance: <ul><li>JSON has <code>images</code> array with 4 entries: <code>arc-friday</code>, <code>arc-friday-collector</code>, <code>arc-friday-clickhouse</code>, <code>arc-friday-zookeeper</code></li><li>Each entry has <code>source</code>, <code>target</code>, <code>description</code>, <code>platforms</code>, <code>required</code> fields</li><li><code>settings.rate_limit_delay_seconds</code> is set</li><li>Consumed by <code>_reusable-publish-group.yml</code> without errors</li></ul></li></ul></li><li><p>[x] <strong>[TASK-054]</strong> [CI] [P] Port reusable CI workflows from platform-spike</p><ul><li>Dependencies: none (parallel-safe)</li><li>Module: <code>.github/workflows/</code></li><li>Acceptance: <ul><li><code>_reusable-build.yml</code>: reusable Docker build with GHA caching, SBOM generation, size + duration tracking</li><li><code>_reusable-security.yml</code>: reusable Trivy scan (fs + image), SARIF upload, non-blocking by default</li><li><code>_reusable-publish-group.yml</code>: reusable vendor re-tag, reads JSON config, sequential publish with rate limit delay</li><li>All three pass YAML linting (<code>yamllint</code> or GitHub Actions validation)</li></ul></li></ul></li><li><p>[x] <strong>[TASK-055]</strong> [DOCS] [P] Update <code>spec.md</code> with FR-13..16 and Image Strategy section</p><ul><li>Dependencies: TASK-051</li><li>Module: <code>specs/001-otel-setup/spec.md</code></li><li>Acceptance: <ul><li>FR-13 through FR-16 added to Requirements section</li><li>Image Strategy section added before Edge Cases</li><li>Table of 4 images with source, Dockerfile, and baked-in config</li><li>No dead file references</li></ul></li></ul></li></ul><hr><h2 id="progress-summary" tabindex="-1">Progress Summary <a class="header-anchor" href="#progress-summary" aria-label="Permalink to &quot;Progress Summary&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Phase</th><th>Total</th><th>Done</th><th>Parallel</th></tr></thead><tbody><tr><td>Setup</td><td>1</td><td>1</td><td>0</td></tr><tr><td>Foundational</td><td>2</td><td>2</td><td>2</td></tr><tr><td>Implementation</td><td>5</td><td>5</td><td>4</td></tr><tr><td>Integration</td><td>1</td><td>1</td><td>0</td></tr><tr><td>Polish</td><td>3</td><td>3</td><td>2</td></tr><tr><td>Image Strategy</td><td>6</td><td>6</td><td>3</td></tr><tr><td><strong>Total</strong></td><td><strong>18</strong></td><td><strong>18</strong></td><td><strong>11</strong></td></tr></tbody></table>`,30))])}const T=a(k,[["render",u]]);export{A as __pageData,T as default};
