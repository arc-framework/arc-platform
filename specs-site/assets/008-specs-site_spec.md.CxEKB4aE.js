import{_ as n,C as l,o as i,c as d,an as e,b as o,w as a,a as p,E as r,ao as h}from"./chunks/framework.CTqRDTHW.js";const f=JSON.parse('{"title":"Feature: Specs Documentation Site","description":"","frontmatter":{},"headers":[],"relativePath":"008-specs-site/spec.md","filePath":"008-specs-site/spec.md","lastUpdated":1772316209000}'),c={name:"008-specs-site/spec.md"};function k(g,s,E,u,m,y){const t=l("Mermaid");return i(),d("div",null,[s[1]||(s[1]=e('<p>&lt;div style=&quot;display: none;&quot; hidden=&quot;true&quot; aria-hidden=&quot;true&quot;&gt;Are you an LLM? You can read better optimized documentation at /arc-platform/specs-site/008-specs-site/spec.md for this page in Markdown format&lt;/div&gt;</p><h1 id="feature-specs-documentation-site" tabindex="-1">Feature: Specs Documentation Site <a class="header-anchor" href="#feature-specs-documentation-site" aria-label="Permalink to &quot;Feature: Specs Documentation Site&quot;">​</a></h1><blockquote><p><strong>Spec</strong>: 008-specs-site <strong>Author</strong>: arc-framework <strong>Date</strong>: 2026-03-01 <strong>Status</strong>: Draft</p></blockquote><h2 id="target-modules" tabindex="-1">Target Modules <a class="header-anchor" href="#target-modules" aria-label="Permalink to &quot;Target Modules&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Module</th><th>Path</th><th>Impact</th></tr></thead><tbody><tr><td>Docs</td><td><code>docs/specs/</code></td><td>New — MkDocs Material config, landing page, <code>requirements.txt</code></td></tr><tr><td>CI/CD</td><td><code>.github/workflows/</code></td><td>New — <code>deploy-specs-site.yml</code> for GitHub Pages deployment</td></tr><tr><td>Specs</td><td><code>specs/</code></td><td>Additive-only — <code>.pages</code> files per folder for nav titles; no existing files modified</td></tr><tr><td>Root</td><td><code>.gitignore</code></td><td>Update — add <code>site_build/</code></td></tr><tr><td>Root</td><td><code>CLAUDE.md</code></td><td>Update — add local preview command</td></tr></tbody></table><p>No CLI, SDK, or service changes in this spec.</p><h2 id="overview" tabindex="-1">Overview <a class="header-anchor" href="#overview" aria-label="Permalink to &quot;Overview&quot;">​</a></h2><p>Publish the <code>specs/</code> folder as a searchable, mermaid-rendered static site using MkDocs Material, deployed to GitHub Pages via CI. The site reads spec, plan, and task markdown directly from <code>specs/</code> via <code>docs_dir</code> — zero content duplication. Navigation is driven by <code>mkdocs-awesome-pages-plugin</code> with per-folder <code>.pages</code> files; adding a new spec folder only requires dropping in a <code>.pages</code> file.</p><h2 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">​</a></h2>',9)),(i(),o(h,null,{default:a(()=>[r(t,{id:"mermaid-98",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20subgraph%20repo%20%5B%22arc-platform%20repo%22%5D%0A%20%20%20%20%20%20%20%20specs%5B%22specs%2F%5Cn(source%20of%20truth)%5Cn%2B%20.pages%20per%20folder%22%5D%0A%20%20%20%20%20%20%20%20config%5B%22docs%2Fspecs%2F%5Cnmkdocs.yml%5Cnindex.md%5Cnrequirements.txt%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20ci%20%5B%22GitHub%20Actions%22%5D%0A%20%20%20%20%20%20%20%20action%5B%22deploy-specs-site.yml%5Cnon%20push%20to%20main%5Cnspecs%2F**%20or%20docs%2Fspecs%2F**%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20gh%20%5B%22GitHub%20Pages%22%5D%0A%20%20%20%20%20%20%20%20site%5B%22arc-framework.github.io%5Cn%2Farc-platform%2Fspecs-site%2F%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20specs%20--%3E%7C%22docs_dir%3A%20..%2F..%2Fspecs%2F%22%7C%20config%0A%20%20%20%20config%20--%3E%7Cpip%20install%20%2B%20mkdocs%20build%7C%20action%0A%20%20%20%20action%20--%3E%7Cmkdocs%20gh-deploy%20--force%7C%20gh%0A"})]),fallback:a(()=>[...s[0]||(s[0]=[p(" Loading... ",-1)])]),_:1})),s[2]||(s[2]=e(`<h3 id="directory-layout" tabindex="-1">Directory Layout <a class="header-anchor" href="#directory-layout" aria-label="Permalink to &quot;Directory Layout&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>docs/</span></span>
<span class="line"><span>└── specs/                       # MkDocs site config (new)</span></span>
<span class="line"><span>    ├── mkdocs.yml               # docs_dir: ../../specs/; awesome-pages plugin</span></span>
<span class="line"><span>    ├── index.md                 # Landing page — project overview + spec index</span></span>
<span class="line"><span>    └── requirements.txt         # Pinned: mkdocs-material&gt;=9.5, awesome-pages plugin</span></span>
<span class="line"><span></span></span>
<span class="line"><span>specs/                           # Content source (minimal additions only)</span></span>
<span class="line"><span>├── .pages                       # Root nav order (index.md first)</span></span>
<span class="line"><span>├── 001-otel-setup/</span></span>
<span class="line"><span>│   └── .pages                   # Section title: &quot;001 — OTEL Setup&quot;; file title map</span></span>
<span class="line"><span>├── 002-cortex-setup/</span></span>
<span class="line"><span>│   └── .pages</span></span>
<span class="line"><span>├── 003-messaging-setup/</span></span>
<span class="line"><span>│   └── .pages</span></span>
<span class="line"><span>├── 004-dev-setup/</span></span>
<span class="line"><span>│   └── .pages</span></span>
<span class="line"><span>├── 005-data-layer/</span></span>
<span class="line"><span>│   └── .pages</span></span>
<span class="line"><span>├── 006-platform-control/</span></span>
<span class="line"><span>│   └── .pages</span></span>
<span class="line"><span>└── 007-voice-stack/</span></span>
<span class="line"><span>    └── .pages</span></span>
<span class="line"><span></span></span>
<span class="line"><span>site_build/                      # Build output (gitignored)</span></span></code></pre></div><h3 id="navigation-strategy-—-mkdocs-awesome-pages-plugin" tabindex="-1">Navigation Strategy — <code>mkdocs-awesome-pages-plugin</code> <a class="header-anchor" href="#navigation-strategy-—-mkdocs-awesome-pages-plugin" aria-label="Permalink to &quot;Navigation Strategy — \`mkdocs-awesome-pages-plugin\`&quot;">​</a></h3><p>Each spec folder gets a <code>.pages</code> file that defines section title and file order:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># specs/003-messaging-setup/.pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;003 — Messaging Setup&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Specification</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">plan.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Implementation Plan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tasks.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Task Breakdown</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">analysis-report.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Analysis Report</span></span></code></pre></div><p>Root <code>.pages</code> controls top-level ordering:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># specs/.pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">index.md</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">001-otel-setup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">002-cortex-setup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">003-messaging-setup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">004-dev-setup</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">005-data-layer</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">006-platform-control</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">007-voice-stack</span></span></code></pre></div><p><strong>Why <code>awesome-pages</code> over alternatives:</strong></p><table tabindex="0"><thead><tr><th>Option</th><th>Verdict</th></tr></thead><tbody><tr><td>Hardcode <code>nav:</code> in <code>mkdocs.yml</code></td><td>Brittle — breaks every time a spec is added</td></tr><tr><td>Script-generated <code>nav:</code> in CI</td><td>Fragile — YAML generation is error-prone</td></tr><tr><td><code>mkdocs-awesome-pages-plugin</code></td><td>Standard pattern; <code>.pages</code> files are declarative and additive</td></tr><tr><td>Restructure <code>docs/</code> to avoid <code>docs_dir</code></td><td>Adds duplication; contradicts zero-copy goal</td></tr></tbody></table><h3 id="work-docs-exclusion" tabindex="-1"><code>.work-docs/</code> Exclusion <a class="header-anchor" href="#work-docs-exclusion" aria-label="Permalink to &quot;\`.work-docs/\` Exclusion&quot;">​</a></h3><p><code>.work-docs/</code> directories are excluded from source control via <code>.gitignore</code>:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>specs/**/.work-docs/</span></span></code></pre></div><p>MkDocs only builds files on disk from <code>docs_dir</code>. Since <code>.work-docs/</code> is never committed, no build-time filter is needed. The <code>.pages</code> nav files also omit <code>.work-docs/</code> entries as a second exclusion layer.</p><p><code>pr-description.md</code> and <code>analysis-report.md</code> are <strong>intentionally included</strong> — they are useful contributor references.</p><h2 id="user-scenarios-testing" tabindex="-1">User Scenarios &amp; Testing <a class="header-anchor" href="#user-scenarios-testing" aria-label="Permalink to &quot;User Scenarios &amp; Testing&quot;">​</a></h2><h3 id="p1-—-must-have" tabindex="-1">P1 — Must Have <a class="header-anchor" href="#p1-—-must-have" aria-label="Permalink to &quot;P1 — Must Have&quot;">​</a></h3><p><strong>US-1</strong>: As a contributor, I want to browse all feature specs in a searchable website so that I can find architecture decisions without digging through raw markdown on GitHub.</p><ul><li><strong>Given</strong>: The site is deployed at <code>arc-framework.github.io/arc-platform/specs-site/</code></li><li><strong>When</strong>: I visit the URL and search for &quot;NATS&quot;</li><li><strong>Then</strong>: Search results show entries from <code>003-messaging-setup/spec.md</code> with highlighted matches</li><li><strong>Test</strong>: Navigate to deployed site; search &quot;NATS&quot;; verify results include 003 spec link</li></ul><p><strong>US-2</strong>: As a contributor, I want mermaid architecture diagrams to render visually so that I can understand service topology at a glance.</p><ul><li><strong>Given</strong>: A spec contains a <code>\`\`\`mermaid</code> fenced block</li><li><strong>When</strong>: The page loads in a browser</li><li><strong>Then</strong>: The diagram renders as an SVG — not raw text</li><li><strong>Test</strong>: Open <code>001-otel-setup/spec.md</code> on the site; verify the OTEL architecture graph renders</li></ul><p><strong>US-3</strong>: As a contributor, I want the site to auto-deploy when specs are merged to main so that the site is always current without manual steps.</p><ul><li><strong>Given</strong>: A PR touching <code>specs/**</code> or <code>docs/specs/**</code> is merged to main</li><li><strong>When</strong>: The GitHub Action triggers</li><li><strong>Then</strong>: Site rebuilds and the change is live within 2 minutes</li><li><strong>Test</strong>: Merge a one-line spec change; watch CI; verify updated content on site</li></ul><p><strong>US-4</strong>: As a contributor, I want to preview the site locally so that I can verify mermaid and nav before pushing.</p><ul><li><strong>Given</strong>: Python 3.10+ is installed; <code>pip install -r docs/specs/requirements.txt</code> has been run</li><li><strong>When</strong>: <code>mkdocs serve -f docs/specs/mkdocs.yml</code> is executed from repo root</li><li><strong>Then</strong>: Dev server starts at <code>localhost:8000</code> with live reload; mermaid diagrams render</li><li><strong>Test</strong>: Run command; open browser; verify diagrams and nav structure</li></ul><h3 id="p2-—-should-have" tabindex="-1">P2 — Should Have <a class="header-anchor" href="#p2-—-should-have" aria-label="Permalink to &quot;P2 — Should Have&quot;">​</a></h3><p><strong>US-5</strong>: As a contributor, I want dark mode so that I can read specs comfortably in any environment.</p><ul><li><strong>Given</strong>: The site is loaded in a browser</li><li><strong>When</strong>: I click the theme toggle in the header</li><li><strong>Then</strong>: Theme switches between light and dark; preference persists on reload</li><li><strong>Test</strong>: Toggle; reload; verify preference preserved (<code>localStorage</code> key <code>__palette</code>)</li></ul><p><strong>US-6</strong>: As a contributor, I want an &quot;Edit on GitHub&quot; link on every page so that I can jump directly to the source file to propose changes.</p><ul><li><strong>Given</strong>: Any spec page is open</li><li><strong>When</strong>: I click &quot;Edit this page&quot;</li><li><strong>Then</strong>: GitHub opens the source <code>.md</code> file in <code>specs/</code> in the editor</li><li><strong>Test</strong>: Click edit link on <code>002-cortex-setup/spec.md</code> page; verify URL points to correct file</li></ul><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><h3 id="functional" tabindex="-1">Functional <a class="header-anchor" href="#functional" aria-label="Permalink to &quot;Functional&quot;">​</a></h3><ul><li>[ ] FR-1: Create <code>docs/specs/mkdocs.yml</code> — <code>docs_dir: ../../specs/</code>, Material theme, <code>awesome-pages</code> plugin, mermaid via <code>pymdownx.superfences</code>, <code>search</code> plugin, <code>edit_uri</code> pointing to <code>specs/</code> on GitHub</li><li>[ ] FR-2: Create <code>docs/specs/index.md</code> — landing page with project overview, spec index table (feature number, name, status, link), and local dev instructions</li><li>[ ] FR-3: Create <code>docs/specs/requirements.txt</code> — pinned <code>mkdocs-material&gt;=9.5</code>, <code>mkdocs-awesome-pages-plugin&gt;=2.9</code>, <code>pymdown-extensions&gt;=10.0</code>; document Python 3.10+ requirement</li><li>[ ] FR-4: Add <code>.pages</code> files to each existing spec folder (<code>001</code>–<code>007</code>) with section title and file-to-title mapping; add root <code>specs/.pages</code> controlling top-level nav order</li><li>[ ] FR-5: Enable mermaid rendering via <code>pymdownx.superfences</code> custom fence — mermaid.js loaded from CDN via <code>extra_javascript</code></li><li>[ ] FR-6: Enable instant search with built-in <code>search</code> plugin; <code>lang: en</code></li><li>[ ] FR-7: Enable dark/light mode toggle via Material <code>palette</code> — two schemes (<code>default</code> → <code>slate</code>)</li><li>[ ] FR-8: Configure <code>edit_uri</code> to <code>https://github.com/arc-framework/arc-platform/edit/main/specs/</code> so edit links point at source files in <code>specs/</code></li><li>[ ] FR-9: Create <code>.github/workflows/deploy-specs-site.yml</code> — triggers on push to <code>main</code> when <code>specs/**</code> or <code>docs/specs/**</code> change; uses <code>actions/setup-python@v5</code> with Python 3.12; installs <code>docs/specs/requirements.txt</code>; runs <code>mkdocs gh-deploy --force --config-file docs/specs/mkdocs.yml</code></li><li>[ ] FR-10: Set <code>site_url: https://arc-framework.github.io/arc-platform/specs-site/</code> and <code>repo_url: https://github.com/arc-framework/arc-platform</code> in <code>mkdocs.yml</code> — <strong>prerequisite</strong>: GitHub Pages must be enabled with source = &quot;Deploy from a branch&quot; → <code>gh-pages</code></li><li>[ ] FR-11: Update <code>.gitignore</code> — add <code>site_build/</code></li><li>[ ] FR-12: Update <code>CLAUDE.md</code> Commands section — add <code>mkdocs serve -f docs/specs/mkdocs.yml # preview specs site locally</code></li></ul><h3 id="non-functional" tabindex="-1">Non-Functional <a class="header-anchor" href="#non-functional" aria-label="Permalink to &quot;Non-Functional&quot;">​</a></h3><ul><li>[ ] NFR-1: <code>mkdocs build</code> must complete in under 30 seconds for the current 7 specs</li><li>[ ] NFR-2: CI workflow (install + build + deploy) must complete in under 2 minutes</li><li>[ ] NFR-3: All existing mermaid diagrams in <code>specs/</code> must render without modifying any source <code>.md</code> file</li><li>[ ] NFR-4: Site must be readable on mobile (320px viewport minimum); mermaid diagrams scrollable on narrow screens — Material theme handles this by default</li><li>[ ] NFR-5: No secrets or tokens required — CI uses automatic <code>GITHUB_TOKEN</code> with <code>contents: write</code> permission</li></ul><h3 id="key-entities" tabindex="-1">Key Entities <a class="header-anchor" href="#key-entities" aria-label="Permalink to &quot;Key Entities&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Entity</th><th>Module</th><th>Description</th></tr></thead><tbody><tr><td><code>mkdocs.yml</code></td><td><code>docs/specs/</code></td><td>MkDocs Material config — theme, plugins, mermaid, nav strategy</td></tr><tr><td><code>index.md</code></td><td><code>docs/specs/</code></td><td>Site landing page — project overview and spec directory table</td></tr><tr><td><code>requirements.txt</code></td><td><code>docs/specs/</code></td><td>Pinned Python deps</td></tr><tr><td><code>.pages</code> (per folder)</td><td><code>specs/NNN-*/</code></td><td>Section title + file-to-nav-title mapping</td></tr><tr><td><code>specs/.pages</code></td><td><code>specs/</code></td><td>Root nav order</td></tr><tr><td><code>deploy-specs-site.yml</code></td><td><code>.github/workflows/</code></td><td>CI — build and deploy to GitHub Pages on main push</td></tr></tbody></table><h2 id="mkdocs-configuration-reference" tabindex="-1">MkDocs Configuration Reference <a class="header-anchor" href="#mkdocs-configuration-reference" aria-label="Permalink to &quot;MkDocs Configuration Reference&quot;">​</a></h2><p>Full <code>docs/specs/mkdocs.yml</code>:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">site_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;A.R.C. Platform — Specs&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">site_url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://arc-framework.github.io/arc-platform/specs-site/&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">repo_url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;https://github.com/arc-framework/arc-platform&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">repo_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;arc-framework/arc-platform&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">edit_uri</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;edit/main/specs/&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">docs_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../../specs/&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">site_dir</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;../../site_build/&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">theme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">material</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  palette</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">scheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">default</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      primary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">indigo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      accent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">indigo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      toggle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        icon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">material/brightness-7</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Switch to dark mode</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">scheme</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">slate</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      primary</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">indigo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      accent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">indigo</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      toggle</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        icon</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">material/brightness-4</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Switch to light mode</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  features</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">navigation.instant</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">navigation.sections</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">search.highlight</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">search.suggest</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">content.action.edit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">markdown_extensions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">pymdownx.superfences</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      custom_fences</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mermaid</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mermaid</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!!python/name:pymdownx.superfences.fence_code_format</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">pymdownx.highlight</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      anchor_linenums</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">pymdownx.tabbed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      alternate_style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">tables</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">admonition</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">toc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      permalink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">search</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">en</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">awesome-pages</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">extra_javascript</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">https://unpkg.com/mermaid@10/dist/mermaid.min.js</span></span></code></pre></div><h2 id="ci-workflow-reference" tabindex="-1">CI Workflow Reference <a class="header-anchor" href="#ci-workflow-reference" aria-label="Permalink to &quot;CI Workflow Reference&quot;">​</a></h2><p><code>.github/workflows/deploy-specs-site.yml</code>:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deploy Specs Site</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    branches</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    paths</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;specs/**&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;docs/specs/**&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">jobs</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    runs-on</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ubuntu-latest</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    permissions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      contents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">write</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    steps</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/checkout@v4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">actions/setup-python@v5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        with</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          python-version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;3.12&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">pip install -r docs/specs/requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mkdocs gh-deploy --force --config-file docs/specs/mkdocs.yml</span></span></code></pre></div><blockquote><p><strong>Prerequisite</strong>: GitHub Pages must be enabled before first deploy: Repo Settings → Pages → Source = <strong>&quot;Deploy from a branch&quot;</strong> → branch = <code>gh-pages</code>. <code>mkdocs gh-deploy</code> pushes the built site to the <code>gh-pages</code> branch automatically.</p></blockquote><h2 id="edge-cases" tabindex="-1">Edge Cases <a class="header-anchor" href="#edge-cases" aria-label="Permalink to &quot;Edge Cases&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Scenario</th><th>Expected Behavior</th></tr></thead><tbody><tr><td>Spec folder has no <code>.pages</code> file</td><td><code>awesome-pages</code> falls back to alphabetical; section title is raw folder name — not ideal but not a build failure</td></tr><tr><td>New spec added without <code>.pages</code> file</td><td>Site builds; spec appears with raw folder name; add <code>.pages</code> in same PR as spec</td></tr><tr><td>Mermaid diagram has syntax error</td><td>Mermaid.js renders an inline error; page still loads; other diagrams unaffected</td></tr><tr><td><code>docs_dir: ../../specs/</code> path wrong</td><td><code>mkdocs build</code> fails immediately with clear error; CI fails; no partial deploy</td></tr><tr><td><code>.work-docs/</code> accidentally committed</td><td>Would appear in site nav; prevented by <code>.gitignore</code>; remove and re-push if it happens</td></tr><tr><td>Cross-spec internal links</td><td>MkDocs rewrites relative links; verify with <code>mkdocs build --strict</code></td></tr><tr><td>Concurrent CI runs</td><td><code>mkdocs gh-deploy --force</code> is atomic; last deploy wins; no corruption</td></tr><tr><td><code>site_build/</code> accidentally committed</td><td>Prevented by <code>.gitignore</code> entry added in FR-11</td></tr><tr><td>GitHub Pages not enabled</td><td>CI runs but deploy fails with 404; prerequisite in FR-10 must be verified first</td></tr></tbody></table><h2 id="success-criteria" tabindex="-1">Success Criteria <a class="header-anchor" href="#success-criteria" aria-label="Permalink to &quot;Success Criteria&quot;">​</a></h2><ul><li>[ ] SC-1: <code>mkdocs build -f docs/specs/mkdocs.yml</code> exits 0 from repo root; produces <code>site_build/</code></li><li>[ ] SC-2: All 7 existing specs appear in site navigation with human-readable titles (e.g., &quot;001 — OTEL Setup&quot;, not &quot;001-otel-setup&quot;)</li><li>[ ] SC-3: Mermaid diagrams in <code>001-otel-setup/spec.md</code> and <code>003-messaging-setup/spec.md</code> render as SVGs (verified in browser)</li><li>[ ] SC-4: Searching &quot;NATS&quot; returns results from <code>003-messaging-setup/spec.md</code> as top result</li><li>[ ] SC-5: Dark mode toggle works; preference persists on page reload</li><li>[ ] SC-6: &quot;Edit this page&quot; link opens the correct source file on GitHub</li><li>[ ] SC-7: Push to <code>specs/</code> on main → CI completes and site is updated within 2 minutes</li><li>[ ] SC-8: <code>mkdocs serve</code> starts without errors; mermaid renders in browser</li><li>[ ] SC-9: <code>mkdocs build --strict</code> exits 0 (no broken links, no warnings-as-errors)</li></ul><h2 id="docs-links-update" tabindex="-1">Docs &amp; Links Update <a class="header-anchor" href="#docs-links-update" aria-label="Permalink to &quot;Docs &amp; Links Update&quot;">​</a></h2><ul><li>[ ] Update <code>CLAUDE.md</code> Commands section — add: <code>mkdocs serve -f docs/specs/mkdocs.yml</code></li><li>[ ] Add <code>site_build/</code> to <code>.gitignore</code></li><li>[ ] Verify GitHub Pages is enabled in repo settings before first CI deploy</li><li>[ ] Add note to SpecKit workflow doc: &quot;When creating a new spec folder, add a <code>.pages</code> file with the section title&quot;</li></ul><h2 id="constitution-compliance" tabindex="-1">Constitution Compliance <a class="header-anchor" href="#constitution-compliance" aria-label="Permalink to &quot;Constitution Compliance&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Principle</th><th>Applies</th><th>Compliant</th><th>Notes</th></tr></thead><tbody><tr><td>I. Zero-Dep CLI</td><td>[ ]</td><td>n/a</td><td>No CLI changes</td></tr><tr><td>II. Platform-in-a-Box</td><td>[ ]</td><td>n/a</td><td>Documentation only</td></tr><tr><td>III. Modular Services</td><td>[ ]</td><td>n/a</td><td>No service changes</td></tr><tr><td>IV. Two-Brain</td><td>[ ]</td><td>n/a</td><td>Config and markdown only — no custom code</td></tr><tr><td>V. Polyglot Standards</td><td>[x]</td><td>[x]</td><td>Python tooling (MkDocs) consistent with SDK/services; commenting conventions followed</td></tr><tr><td>VI. Local-First</td><td>[x]</td><td>[x]</td><td><code>mkdocs serve</code> works fully offline after <code>pip install</code>; no external services for local preview</td></tr><tr><td>VII. Observability</td><td>[ ]</td><td>n/a</td><td>Documentation only</td></tr><tr><td>VIII. Security</td><td>[x]</td><td>[x]</td><td>No secrets; CI uses automatic <code>GITHUB_TOKEN</code>; no sensitive data in built site</td></tr><tr><td>IX. Declarative</td><td>[ ]</td><td>n/a</td><td>No CLI changes</td></tr><tr><td>X. Stateful Ops</td><td>[ ]</td><td>n/a</td><td>No CLI changes</td></tr><tr><td>XI. Resilience</td><td>[ ]</td><td>n/a</td><td>Static site — inherently resilient; GitHub Pages 99.9% SLA</td></tr><tr><td>XII. Interactive</td><td>[ ]</td><td>n/a</td><td>No CLI changes</td></tr></tbody></table><p>&lt;NolebaseGitContributors /&gt;</p><p>&lt;NolebaseGitChangelog /&gt;</p>`,53))])}const F=n(c,[["render",k]]);export{f as __pageData,F as default};
