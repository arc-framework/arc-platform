import{_ as k,C as d,o as e,c as o,an as p,b as n,w as i,a,E as l,ao as h,j as r}from"./chunks/framework.CTqRDTHW.js";const A=JSON.parse('{"title":"Implementation Plan: Realtime Voice Infrastructure Setup","description":"","frontmatter":{},"headers":[],"relativePath":"007-voice-stack/plan.md","filePath":"007-voice-stack/plan.md","lastUpdated":1772310733000}'),c={name:"007-voice-stack/plan.md"};function E(g,s,y,m,F,u){const t=d("Mermaid");return e(),o("div",null,[s[4]||(s[4]=p("",11)),(e(),n(h,null,{default:i(()=>[l(t,{id:"mermaid-190",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20Host%0A%20%20%20%20%20%20%20%20subgraph%20arc_platform_net%0A%20%20%20%20%20%20%20%20%20%20%20%20realtime%5B%22arc-realtime%5Cnlivekit%2Flivekit-server%5Cn%3A7880%20HTTP%2Fsignal%5Cn%3A7881%20gRPC%5Cn%3A7882%20TURN%2FTCP%5Cn%3A50100-50200%2FUDP%20RTP%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ingress%5B%22arc-realtime-ingress%5Cnlivekit%2Fingress%5Cn%3A7888%20controller%5Cn%3A1935%20RTMP%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20egress%5B%22arc-realtime-egress%5Cnlivekit%2Fegress%5Cn%3A7889%20controller%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20cache%5B%22arc-cache%5CnRedis%5Cn%3A6379%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20storage%5B%22arc-storage%5CnMinIO%5Cn%3A9000%22%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20webrtc%5B%22WebRTC%20Clients%22%5D%20--%3E%7C7880%20signal%7C%20realtime%0A%20%20%20%20rtmp%5B%22RTMP%20Sources%22%5D%20--%3E%7C1935%20RTMP%7C%20ingress%0A%20%20%20%20ingress%20--%3E%7Cws%3A%2F%2Farc-realtime%3A7880%7C%20realtime%0A%20%20%20%20egress%20--%3E%7Crealtime%20API%20%3A7880%7C%20realtime%0A%20%20%20%20egress%20--%3E%7CS3%20recordings%7C%20storage%0A%20%20%20%20realtime%20--%3E%7Cpub%2Fsub%20state%7C%20cache%0A%20%20%20%20realtime%20-.-%3E%7C%2250100-50200%2FUDP%20RTP%5Cn(0.0.0.0%20%E2%80%94%20NAT%20traversal)%22%7C%20webrtc%0A"})]),fallback:i(()=>[...s[0]||(s[0]=[a(" Loading... ",-1)])]),_:1})),s[5]||(s[5]=r("h3",{id:"port-binding-strategy",tabindex:"-1"},[a("Port binding strategy "),r("a",{class:"header-anchor",href:"#port-binding-strategy","aria-label":'Permalink to "Port binding strategy"'},"​")],-1)),(e(),n(h,null,{default:i(()=>[l(t,{id:"mermaid-194",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20subgraph%20%22TCP%20%E2%80%94%20127.0.0.1%20only%22%0A%20%20%20%20%20%20%20%20p7880%5B%22Host%20%3A7880%20%E2%86%92%20container%20%3A7880%5CnLiveKit%20HTTP%20%2B%20signalling%22%5D%0A%20%20%20%20%20%20%20%20p7881%5B%22Host%20%3A7881%20%E2%86%92%20container%20%3A7881%5CngRPC%20API%22%5D%0A%20%20%20%20%20%20%20%20p7882%5B%22Host%20%3A7882%20%E2%86%92%20container%20%3A7882%5CnTURN%2FTCP%22%5D%0A%20%20%20%20%20%20%20%20p7888%5B%22Host%20%3A7888%20%E2%86%92%20container%20%3A7888%5CnIngress%20controller%22%5D%0A%20%20%20%20%20%20%20%20p1935%5B%22Host%20%3A1935%20%E2%86%92%20container%20%3A1935%5CnRTMP%20ingest%22%5D%0A%20%20%20%20%20%20%20%20p7889%5B%22Host%20%3A7889%20%E2%86%92%20container%20%3A7889%5CnEgress%20controller%22%5D%0A%20%20%20%20end%0A%20%20%20%20subgraph%20%22UDP%20%E2%80%94%200.0.0.0%20(WebRTC%20exception)%22%0A%20%20%20%20%20%20%20%20pudp%5B%22Host%20%3A50100-50200%20%E2%86%92%20container%20%3A50100-50200%5CnWebRTC%20RTP%20media%5CnClients%20outside%20Docker%20need%20direct%20reach%22%5D%0A%20%20%20%20end%0A"})]),fallback:i(()=>[...s[1]||(s[1]=[a(" Loading... ",-1)])]),_:1})),s[6]||(s[6]=r("h3",{id:"file-pattern-co-located-variant",tabindex:"-1"},[a("File pattern (co-located variant) "),r("a",{class:"header-anchor",href:"#file-pattern-co-located-variant","aria-label":'Permalink to "File pattern (co-located variant)"'},"​")],-1)),(e(),n(h,null,{default:i(()=>[l(t,{id:"mermaid-198",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20A%5B%22services%2Frealtime%2F%22%5D%20--%3E%20B%5B%22Dockerfile%5CnFROM%20livekit%2Flivekit-server%5Cnarc-realtime%22%5D%0A%20%20%20%20A%20--%3E%20C%5B%22Dockerfile.ingress%5CnFROM%20livekit%2Fingress%5Cnarc-realtime-ingress%22%5D%0A%20%20%20%20A%20--%3E%20D%5B%22Dockerfile.egress%5CnFROM%20livekit%2Fegress%5Cnarc-realtime-egress%22%5D%0A%20%20%20%20A%20--%3E%20E%5B%22livekit.yaml%5Cnkeys%2C%20redis%2C%20RTC%20ports%5CnLIVEKIT_NODE_IP%20env%22%5D%0A%20%20%20%20A%20--%3E%20F%5B%22ingress.yaml%5Cnapi_url%2C%20key%2Fsecret%5Cn%3A7888%20health%20port%22%5D%0A%20%20%20%20A%20--%3E%20G%5B%22egress.yaml%5Cnapi_url%2C%20key%2Fsecret%5CnS3%20endpoint%20%E2%86%92%20arc-storage%22%5D%0A%20%20%20%20A%20--%3E%20H%5B%22docker-compose.yml%5Cn3%20services%2C%20shared%20network%5Cndepends_on%20ordering%22%5D%0A%20%20%20%20A%20--%3E%20I%5B%22service.yaml%5Cnrole%3A%20realtime%2C%20codename%3A%20daredevil%5Cndepends_on%3A%20cache%22%5D%0A%20%20%20%20A%20--%3E%20J%5B%22realtime.mk%5Cnrealtime-*%20%2B%20ingress-*%20%2B%20egress-*%22%5D%0A"})]),fallback:i(()=>[...s[2]||(s[2]=[a(" Loading... ",-1)])]),_:1})),s[7]||(s[7]=p("",35)),(e(),n(h,null,{default:i(()=>[l(t,{id:"mermaid-474",class:"mermaid",graph:"gantt%0A%20%20%20%20title%20007-voice-stack%20Implementation%20Phases%0A%20%20%20%20dateFormat%20X%0A%20%20%20%20axisFormat%20%25s%0A%0A%20%20%20%20section%20Phase%201%20%E2%80%94%20Foundation%0A%20%20%20%20Update%20profiles.yaml%20(realtime%20%E2%86%92%20think%20%2B%20reason)%20%20%20%20%3Ap1%2C%200%2C%201%0A%0A%20%20%20%20section%20Phase%202%20%E2%80%94%20Dockerfiles%20%2B%20Config%20(parallel)%0A%20%20%20%20Dockerfile%20(arc-realtime)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap2a%2C%20after%20p1%2C%202%0A%20%20%20%20Dockerfile.ingress%20(arc-realtime-ingress)%20%20%20%20%20%20%20%20%20%20%20%3Ap2b%2C%20after%20p1%2C%202%0A%20%20%20%20Dockerfile.egress%20(arc-realtime-egress)%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap2c%2C%20after%20p1%2C%202%0A%20%20%20%20livekit.yaml%20%2B%20ingress.yaml%20%2B%20egress.yaml%20%20%20%20%20%20%20%20%20%20%20%3Ap2d%2C%20after%20p1%2C%202%0A%0A%20%20%20%20section%20Phase%203%20%E2%80%94%20Compose%20%2B%20service.yaml%0A%20%20%20%20docker-compose.yml%20(all%203%20services)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap3%2C%20after%20p2a%2C%201%0A%20%20%20%20service.yaml%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap3b%2C%20after%20p2a%2C%201%0A%0A%20%20%20%20section%20Phase%204%20%E2%80%94%20Make%20%2B%20CI%20(parallel)%0A%20%20%20%20realtime.mk%20(all%20targets)%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap4a%2C%20after%20p3%2C%201%0A%20%20%20%20realtime-images.yml%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap4b%2C%20after%20p3%2C%202%0A%20%20%20%20realtime-release.yml%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap4c%2C%20after%20p3%2C%202%0A%0A%20%20%20%20section%20Phase%205%20%E2%80%94%20Integration%0A%20%20%20%20Makefile%20include%20%2B%20scripts%20updates%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap5a%2C%20after%20p4a%2C%201%0A%20%20%20%20make%20realtime-up%20%2B%20make%20realtime-health%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap5b%2C%20after%20p5a%2C%201%0A%20%20%20%20Docs%20%26%20links%20update%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap5c%2C%20after%20p5b%2C%201%0A"})]),fallback:i(()=>[...s[3]||(s[3]=[a(" Loading... ",-1)])]),_:1})),s[8]||(s[8]=p("",10))])}const v=k(c,[["render",E]]);export{A as __pageData,v as default};
