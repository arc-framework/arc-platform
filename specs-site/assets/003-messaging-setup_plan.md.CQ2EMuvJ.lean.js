import{_ as d,C as p,o as t,c as h,an as c,b as n,w as a,a as s,E as l,ao as r,j as o}from"./chunks/framework.CTqRDTHW.js";const b=JSON.parse('{"title":"Implementation Plan: Messaging & Cache Services Setup","description":"","frontmatter":{},"headers":[],"relativePath":"003-messaging-setup/plan.md","filePath":"003-messaging-setup/plan.md","lastUpdated":1772310733000}'),k={name:"003-messaging-setup/plan.md"};function g(m,e,u,E,f,y){const i=p("Mermaid");return t(),h("div",null,[e[4]||(e[4]=c("",10)),(t(),n(r,null,{default:a(()=>[l(i,{id:"mermaid-201",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20subgraph%20Host%0A%20%20%20%20%20%20%20%20subgraph%20arc_platform_net%20%5Barc_platform_net%20%E2%80%94%20external%20bridge%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20flash%5B%22arc-messaging%5Cnnats%3A2.10-alpine%5Cn4222%20%E2%80%A2%208222%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20strange%5B%22arc-streaming%5Cnpulsar%3A3.3.0%5Cn6650%20%E2%80%A2%208082%E2%86%928080%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20sonic%5B%22arc-cache%5Cnredis%3A7.4-alpine%5Cn6379%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20collector%5B%22arc-friday-collector%5Cnsignoz%20otel%20v0.142%5Cn4317%20%E2%80%A2%204318%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20cortex%5B%22arc-cortex%5Cn%3A8081%22%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20%20%20%20%20subgraph%20arc_otel_net%20%5Barc_otel_net%20%E2%80%94%20internal%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20zk%5B%22arc-friday-zookeeper%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20ch%5B%22arc-friday-clickhouse%22%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20friday%5B%22arc-friday%20%2F%20SigNoz%5Cn%3A3301%22%5D%0A%20%20%20%20%20%20%20%20end%0A%20%20%20%20end%0A%0A%20%20%20%20collector%20--%20%22prometheus%20scrape%5Cnarc-messaging%3A8222%2Fmetrics%22%20--%3E%20flash%0A%20%20%20%20collector%20--%20%22prometheus%20scrape%5Cnarc-streaming%3A8080%2Fmetrics%22%20--%3E%20strange%0A%20%20%20%20collector%20--%20%22OTLP%20export%5Cnclickhousetraces%2Fmetrics%2Flogs%22%20--%3E%20ch%0A%20%20%20%20cortex%20--%20%22nats%3A%2F%2F4222%22%20--%3E%20flash%0A%20%20%20%20cortex%20--%20%22pulsar%3A%2F%2F6650%22%20--%3E%20strange%0A%20%20%20%20cortex%20--%20%22redis%3A%2F%2F6379%22%20--%3E%20sonic%0A"})]),fallback:a(()=>[...e[0]||(e[0]=[s(" Loading... ",-1)])]),_:1})),e[5]||(e[5]=o("h3",{id:"collector-config-delta",tabindex:"-1"},[s("Collector config delta "),o("a",{class:"header-anchor",href:"#collector-config-delta","aria-label":'Permalink to "Collector config delta"'},"​")],-1)),(t(),n(r,null,{default:a(()=>[l(i,{id:"mermaid-205",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20subgraph%20Before%0A%20%20%20%20%20%20%20%20B_otlp%5Botlp%20receiver%5D%20--%3E%20B_batch%5Bbatch%5D%20--%3E%20B_exp%5Bclickhouse%20exporters%5D%0A%20%20%20%20end%0A%20%20%20%20subgraph%20After%0A%20%20%20%20%20%20%20%20A_otlp%5Botlp%20receiver%5D%20--%3E%20A_batch%5Bbatch%5D%20--%3E%20A_exp%5Bclickhouse%20exporters%5D%0A%20%20%20%20%20%20%20%20A_prom%5Bprometheus%20receiver%5Cnarc-messaging%3A8222%5Cnarc-streaming%3A8080%5D%20--%3E%20A_batch%0A%20%20%20%20end%0A"})]),fallback:a(()=>[...e[1]||(e[1]=[s(" Loading... ",-1)])]),_:1})),e[6]||(e[6]=o("h3",{id:"service-file-pattern-same-for-all-three",tabindex:"-1"},[s("Service file pattern (same for all three) "),o("a",{class:"header-anchor",href:"#service-file-pattern-same-for-all-three","aria-label":'Permalink to "Service file pattern (same for all three)"'},"​")],-1)),(t(),n(r,null,{default:a(()=>[l(i,{id:"mermaid-209",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20A%5BDockerfile%5Cnpins%20upstream%20image%5Cnadds%20OCI%20%2B%20arc%20labels%5D%20--%3E%20B%5Bdocker-compose.yml%5Cnports%2C%20volumes%2C%20healthcheck%5Cnexternal%20arc_platform_net%5D%0A%20%20%20%20B%20--%3E%20C%5Bservice.yaml%5Cnname%2C%20codename%2C%20port%2C%20health%5D%0A%20%20%20%20C%20--%3E%20D%5Bflash.mk%20%2F%20strange.mk%20%2F%20sonic.mk%5Cnmake%20targets%3A%20up%2C%20down%2C%20health%2C%20logs%2C%20build%2C%20clean%2C%20nuke%5D%0A"})]),fallback:a(()=>[...e[2]||(e[2]=[s(" Loading... ",-1)])]),_:1})),e[7]||(e[7]=c("",25)),(t(),n(r,null,{default:a(()=>[l(i,{id:"mermaid-474",class:"mermaid",graph:"gantt%0A%20%20%20%20title%20Implementation%20Phases%0A%20%20%20%20dateFormat%20X%0A%20%20%20%20axisFormat%20%25s%0A%0A%20%20%20%20section%20Phase%201%20%E2%80%94%20Foundation%20(sequential)%0A%20%20%20%20Create%20arc_platform_net%20network%20infra%20%20%20%20%20%20%20%20%20%20%3Ap1a%2C%200%2C%201%0A%20%20%20%20Update%20profiles.yaml%20think%20profile%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap1b%2C%20after%20p1a%2C%201%0A%0A%20%20%20%20section%20Phase%202%20%E2%80%94%20Services%20(fully%20parallel)%0A%20%20%20%20Flash%3A%20Dockerfile%20%2B%20service.yaml%20%2B%20compose%20%20%20%20%20%3Ap2a%2C%20after%20p1b%2C%202%0A%20%20%20%20Strange%3A%20Dockerfile%20%2B%20service.yaml%20%2B%20compose%20%20%20%3Ap2b%2C%20after%20p1b%2C%202%0A%20%20%20%20Sonic%3A%20Dockerfile%20%2B%20service.yaml%20%2B%20compose%20%20%20%20%20%3Ap2c%2C%20after%20p1b%2C%202%0A%0A%20%20%20%20section%20Phase%203%20%E2%80%94%20Make%20targets%20(parallel%20per%20service)%0A%20%20%20%20flash.mk%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap3a%2C%20after%20p2a%2C%201%0A%20%20%20%20strange.mk%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap3b%2C%20after%20p2b%2C%201%0A%20%20%20%20sonic.mk%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap3c%2C%20after%20p2c%2C%201%0A%20%20%20%20messaging.mk%20aggregates%20%2B%20Makefile%20includes%20%20%20%20%3Ap3d%2C%20after%20p2c%2C%201%0A%0A%20%20%20%20section%20Phase%204%20%E2%80%94%20OTEL%20integration%20(sequential%2C%20needs%20Phase%202)%0A%20%20%20%20otel-collector-config.yaml%20%E2%80%94%20prometheus%20recv%20%20%20%3Ap4a%2C%20after%20p2a%2C%201%0A%20%20%20%20otel%20docker-compose.yml%20%E2%80%94%20add%20arc_platform_net%20%3Ap4b%2C%20after%20p4a%2C%201%0A%20%20%20%20Rebuild%20%2B%20test%20collector%20image%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap4c%2C%20after%20p4b%2C%201%0A%0A%20%20%20%20section%20Phase%205%20%E2%80%94%20CI%2FCD%20(parallel)%0A%20%20%20%20messaging-images.yml%20workflow%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap5a%2C%20after%20p3d%2C%202%0A%20%20%20%20messaging-release.yml%20workflow%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap5b%2C%20after%20p3d%2C%202%0A%0A%20%20%20%20section%20Phase%206%20%E2%80%94%20Integration%20test%0A%20%20%20%20make%20messaging-up%20%2B%20health%20checks%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Ap6%2C%20after%20p5b%2C%201%0A"})]),fallback:a(()=>[...e[3]||(e[3]=[s(" Loading... ",-1)])]),_:1})),e[8]||(e[8]=c("",6))])}const C=d(k,[["render",g]]);export{b as __pageData,C as default};
