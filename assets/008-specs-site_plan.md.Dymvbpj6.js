import{_ as c,C as l,o as s,c as p,a2 as d,b as i,w as t,a as n,E as o,a3 as r}from"./chunks/framework.C-cuuT8Z.js";const A=JSON.parse('{"title":"Implementation Plan: Specs Documentation Site","description":"","frontmatter":{},"headers":[],"relativePath":"008-specs-site/plan.md","filePath":"008-specs-site/plan.md","lastUpdated":1772316209000}'),h={name:"008-specs-site/plan.md"};function m(u,e,g,k,y,b){const a=l("Mermaid");return s(),p("div",null,[e[3]||(e[3]=d('<h1 id="implementation-plan-specs-documentation-site" tabindex="-1">Implementation Plan: Specs Documentation Site <a class="header-anchor" href="#implementation-plan-specs-documentation-site" aria-label="Permalink to &quot;Implementation Plan: Specs Documentation Site&quot;">​</a></h1><blockquote><p><strong>Spec</strong>: 008-specs-site <strong>Date</strong>: 2026-03-01</p></blockquote><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>Publish <code>specs/</code> as a searchable, mermaid-rendered static site using MkDocs Material, deployed to GitHub Pages via CI on every push to <code>main</code>. Navigation is driven by <code>mkdocs-awesome-pages-plugin</code> — each spec folder gets a <code>.pages</code> file with its human-readable section title; adding a new spec requires no changes to <code>mkdocs.yml</code>.</p><h2 id="target-modules" tabindex="-1">Target Modules <a class="header-anchor" href="#target-modules" aria-label="Permalink to &quot;Target Modules&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Module</th><th>Language</th><th>Changes</th></tr></thead><tbody><tr><td><code>docs/specs/</code></td><td>YAML / Markdown / Python</td><td>New — <code>mkdocs.yml</code>, <code>index.md</code>, <code>requirements.txt</code></td></tr><tr><td><code>specs/</code></td><td>Markdown / YAML</td><td>Additive-only — <code>.pages</code> files per folder; no existing files modified</td></tr><tr><td><code>.github/workflows/</code></td><td>YAML</td><td>New — <code>deploy-specs-site.yml</code></td></tr><tr><td>Root</td><td>Text</td><td><code>.gitignore</code> + <code>CLAUDE.md</code> — 2-line updates</td></tr></tbody></table><h2 id="technical-context" tabindex="-1">Technical Context <a class="header-anchor" href="#technical-context" aria-label="Permalink to &quot;Technical Context&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Aspect</th><th>Value</th></tr></thead><tbody><tr><td>Build tool</td><td>MkDocs Material ≥ 9.5</td></tr><tr><td>Nav plugin</td><td><code>mkdocs-awesome-pages-plugin</code> ≥ 2.9</td></tr><tr><td>Mermaid</td><td><code>pymdownx.superfences</code> custom fence + mermaid.js CDN (unpkg.com/mermaid@10)</td></tr><tr><td>Search</td><td>MkDocs built-in <code>search</code> plugin (<code>lang: en</code>)</td></tr><tr><td>Python</td><td>3.10+ locally; 3.12 in CI</td></tr><tr><td>Content source</td><td><code>docs_dir: ../../specs/</code> — zero duplication</td></tr><tr><td>Build output</td><td><code>site_dir: ../../site_build/</code> — gitignored</td></tr><tr><td>Deploy target</td><td><code>gh-pages</code> branch → GitHub Pages</td></tr><tr><td>CI trigger</td><td><code>push</code> to <code>main</code> when <code>specs/**</code> or <code>docs/specs/**</code> change</td></tr></tbody></table><h3 id="key-decision-mkdocs-material-vs-alternatives" tabindex="-1">Key Decision: MkDocs Material vs alternatives <a class="header-anchor" href="#key-decision-mkdocs-material-vs-alternatives" aria-label="Permalink to &quot;Key Decision: MkDocs Material vs alternatives&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Option</th><th>Verdict</th></tr></thead><tbody><tr><td><strong>MkDocs Material</strong></td><td>✅ Best-in-class markdown site, mermaid native, Python (consistent with SDK)</td></tr><tr><td>Docusaurus</td><td>Node.js runtime — conflicts with zero-dep philosophy for tooling</td></tr><tr><td>Sphinx</td><td>RST-first; markdown support is bolted on; overkill for spec docs</td></tr><tr><td>GitHub wiki</td><td>No mermaid, no search, no CI control</td></tr></tbody></table><h3 id="key-decision-awesome-pages-vs-hardcoded-nav" tabindex="-1">Key Decision: awesome-pages vs hardcoded nav <a class="header-anchor" href="#key-decision-awesome-pages-vs-hardcoded-nav" aria-label="Permalink to &quot;Key Decision: awesome-pages vs hardcoded nav&quot;">​</a></h3><p><code>mkdocs.yml</code> <code>nav:</code> would need updating every time a spec is added — brittle and error-prone in a CI context. <code>awesome-pages</code> reads <code>.pages</code> files from each folder; adding a spec = adding a <code>.pages</code> file in the same PR, no <code>mkdocs.yml</code> change needed.</p><h3 id="key-decision-mermaid-rendering" tabindex="-1">Key Decision: mermaid rendering <a class="header-anchor" href="#key-decision-mermaid-rendering" aria-label="Permalink to &quot;Key Decision: mermaid rendering&quot;">​</a></h3><p><code>pymdownx.superfences</code> custom fence + CDN <code>mermaid.min.js</code> is the canonical MkDocs Material approach. No separate <code>mkdocs-mermaid2-plugin</code> needed — that plugin has known version conflicts with Material ≥ 9.0.</p><h2 id="architecture" tabindex="-1">Architecture <a class="header-anchor" href="#architecture" aria-label="Permalink to &quot;Architecture&quot;">​</a></h2>',15)),(s(),i(r,null,{default:t(()=>[o(a,{id:"mermaid-231",class:"mermaid",graph:"graph%20TD%0A%20%20%20%20subgraph%20PR%20%5B%22PR%20%E2%86%92%20main%20merge%22%5D%0A%20%20%20%20%20%20%20%20specs_change%5B%22specs%2F**%20change%5Cnor%20docs%2Fspecs%2F**%20change%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20CI%20%5B%22deploy-specs-site.yml%22%5D%0A%20%20%20%20%20%20%20%20checkout%5B%22actions%2Fcheckout%40v4%22%5D%0A%20%20%20%20%20%20%20%20python%5B%22actions%2Fsetup-python%40v5%5CnPython%203.12%22%5D%0A%20%20%20%20%20%20%20%20install%5B%22pip%20install%20-r%5Cndocs%2Fspecs%2Frequirements.txt%22%5D%0A%20%20%20%20%20%20%20%20deploy%5B%22mkdocs%20gh-deploy%20--force%5Cn--config-file%20docs%2Fspecs%2Fmkdocs.yml%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20Output%20%5B%22GitHub%20Pages%22%5D%0A%20%20%20%20%20%20%20%20ghpages%5B%22gh-pages%20branch%5Cn%E2%86%92%20arc-framework.github.io%5Cn%2Farc-platform%2Fspecs-site%2F%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20specs_change%20--%3E%20checkout%0A%20%20%20%20checkout%20--%3E%20python%20--%3E%20install%20--%3E%20deploy%20--%3E%20ghpages%0A"})]),fallback:t(()=>[...e[0]||(e[0]=[n(" Loading... ",-1)])]),_:1})),(s(),i(r,null,{default:t(()=>[o(a,{id:"mermaid-232",class:"mermaid",graph:"graph%20LR%0A%20%20%20%20subgraph%20source%20%5B%22Content%20Source%22%5D%0A%20%20%20%20%20%20%20%20specs%5B%22specs%2F%5Cn(source%20of%20truth)%22%5D%0A%20%20%20%20%20%20%20%20pages%5B%22.pages%20files%5Cn(nav%20titles)%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20config%20%5B%22docs%2Fspecs%2F%22%5D%0A%20%20%20%20%20%20%20%20mkdocs%5B%22mkdocs.yml%5Cndocs_dir%3A%20..%2F..%2Fspecs%2F%22%5D%0A%20%20%20%20%20%20%20%20index%5B%22index.md%5Cn(landing%20page)%22%5D%0A%20%20%20%20%20%20%20%20req%5B%22requirements.txt%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20subgraph%20site%20%5B%22Built%20Site%22%5D%0A%20%20%20%20%20%20%20%20search%5B%22Full-text%20search%22%5D%0A%20%20%20%20%20%20%20%20mermaid%5B%22Mermaid%20SVGs%22%5D%0A%20%20%20%20%20%20%20%20dark%5B%22Dark%2FLight%20mode%22%5D%0A%20%20%20%20%20%20%20%20edit%5B%22Edit%20on%20GitHub%20links%22%5D%0A%20%20%20%20end%0A%0A%20%20%20%20specs%20--%3E%7C%22zero%20copy%22%7C%20mkdocs%0A%20%20%20%20pages%20--%3E%20mkdocs%0A%20%20%20%20mkdocs%20--%3E%20site%0A"})]),fallback:t(()=>[...e[1]||(e[1]=[n(" Loading... ",-1)])]),_:1})),e[4]||(e[4]=d(`<h2 id="constitution-check" tabindex="-1">Constitution Check <a class="header-anchor" href="#constitution-check" aria-label="Permalink to &quot;Constitution Check&quot;">​</a></h2><table tabindex="0"><thead><tr><th>#</th><th>Principle</th><th>Status</th><th>Evidence</th></tr></thead><tbody><tr><td>I</td><td>Zero-Dep CLI</td><td>N/A</td><td>No CLI changes</td></tr><tr><td>II</td><td>Platform-in-a-Box</td><td>N/A</td><td>Documentation only</td></tr><tr><td>III</td><td>Modular Services</td><td>N/A</td><td>No service changes</td></tr><tr><td>IV</td><td>Two-Brain</td><td>N/A</td><td>Config and markdown only</td></tr><tr><td>V</td><td>Polyglot Standards</td><td>PASS</td><td>Python tooling (MkDocs) consistent with Python SDK/services; commenting conventions followed</td></tr><tr><td>VI</td><td>Local-First</td><td>PASS</td><td><code>mkdocs serve</code> works fully offline after <code>pip install</code>; no external API keys needed</td></tr><tr><td>VII</td><td>Observability</td><td>N/A</td><td>Documentation only</td></tr><tr><td>VIII</td><td>Security</td><td>PASS</td><td>No secrets committed; CI uses <code>GITHUB_TOKEN</code> auto-credential; no sensitive data in built site</td></tr><tr><td>IX</td><td>Declarative</td><td>N/A</td><td>No CLI changes</td></tr><tr><td>X</td><td>Stateful Ops</td><td>N/A</td><td>No CLI changes</td></tr><tr><td>XI</td><td>Resilience</td><td>N/A</td><td>Static site; GitHub Pages 99.9% SLA</td></tr><tr><td>XII</td><td>Interactive</td><td>N/A</td><td>No CLI changes</td></tr></tbody></table><h2 id="project-structure" tabindex="-1">Project Structure <a class="header-anchor" href="#project-structure" aria-label="Permalink to &quot;Project Structure&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>arc-platform/</span></span>
<span class="line"><span>├── docs/</span></span>
<span class="line"><span>│   └── specs/                           # New MkDocs site config</span></span>
<span class="line"><span>│       ├── mkdocs.yml                   # Main config — docs_dir, theme, plugins, mermaid</span></span>
<span class="line"><span>│       ├── index.md                     # Landing page — overview + spec index table</span></span>
<span class="line"><span>│       └── requirements.txt             # Pinned Python deps</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>├── specs/</span></span>
<span class="line"><span>│   ├── .pages                           # Root nav order</span></span>
<span class="line"><span>│   ├── 001-otel-setup/</span></span>
<span class="line"><span>│   │   └── .pages                       # title: &quot;001 — OTEL Setup&quot;; file nav map</span></span>
<span class="line"><span>│   ├── 002-cortex-setup/</span></span>
<span class="line"><span>│   │   └── .pages</span></span>
<span class="line"><span>│   ├── 003-messaging-setup/</span></span>
<span class="line"><span>│   │   └── .pages</span></span>
<span class="line"><span>│   ├── 004-dev-setup/</span></span>
<span class="line"><span>│   │   └── .pages</span></span>
<span class="line"><span>│   ├── 005-data-layer/</span></span>
<span class="line"><span>│   │   └── .pages</span></span>
<span class="line"><span>│   ├── 006-platform-control/</span></span>
<span class="line"><span>│   │   └── .pages</span></span>
<span class="line"><span>│   └── 007-voice-stack/</span></span>
<span class="line"><span>│       └── .pages</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>├── .github/</span></span>
<span class="line"><span>│   └── workflows/</span></span>
<span class="line"><span>│       └── deploy-specs-site.yml        # New CI workflow</span></span>
<span class="line"><span>│</span></span>
<span class="line"><span>├── .gitignore                           # +1 line: site_build/</span></span>
<span class="line"><span>└── CLAUDE.md                            # +1 line: mkdocs serve command</span></span></code></pre></div><p><strong>Total new files</strong>: 12 (mkdocs.yml, index.md, requirements.txt, 7× .pages, 1× .pages root, deploy-specs-site.yml) <strong>Modified files</strong>: 2 (.gitignore, CLAUDE.md)</p><h2 id="pages-file-pattern" tabindex="-1"><code>.pages</code> File Pattern <a class="header-anchor" href="#pages-file-pattern" aria-label="Permalink to &quot;\`.pages\` File Pattern&quot;">​</a></h2><p>Each spec folder <code>.pages</code> follows this structure:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># specs/NNN-feature-name/.pages</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;NNN — Feature Name&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">nav</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Specification</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">plan.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Implementation Plan</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tasks.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Task Breakdown</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">analysis-report.md</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Analysis Report</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  - </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">...</span></span></code></pre></div><p>Only files that <strong>exist in the folder</strong> should be listed. Files not in <code>nav:</code> are still discoverable via search; they just don&#39;t appear in the sidebar. Use <code>...</code> (ellipsis entry) as a catch-all for any unlisted files if needed.</p><h2 id="parallel-execution-strategy" tabindex="-1">Parallel Execution Strategy <a class="header-anchor" href="#parallel-execution-strategy" aria-label="Permalink to &quot;Parallel Execution Strategy&quot;">​</a></h2>`,10)),(s(),i(r,null,{default:t(()=>[o(a,{id:"mermaid-444",class:"mermaid",graph:"gantt%0A%20%20%20%20title%20008-specs-site%20Implementation%0A%20%20%20%20dateFormat%20%20X%0A%20%20%20%20axisFormat%20%20%25s%0A%0A%20%20%20%20section%20Phase%201%20%E2%80%94%20Setup%20(serial)%0A%20%20%20%20gitignore%20%2B%20CLAUDE.md%20%20%20%20%20%20%20%20%20%3Aa1%2C%200%2C%201%0A%0A%20%20%20%20section%20Phase%202%20%E2%80%94%20Core%20Files%20(fully%20parallel)%0A%20%20%20%20mkdocs.yml%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Aa2%2C%20after%20a1%2C%201%0A%20%20%20%20index.md%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Aa3%2C%20after%20a1%2C%201%0A%20%20%20%20requirements.txt%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3Aa4%2C%20after%20a1%2C%201%0A%20%20%20%20.pages%20root%20%2B%20001%E2%80%93007%20%20%20%20%20%20%20%20%20%3Aa5%2C%20after%20a1%2C%201%0A%0A%20%20%20%20section%20Phase%203%20%E2%80%94%20CI%20(parallel%20with%20Phase%202)%0A%20%20%20%20deploy-specs-site.yml%20%20%20%20%20%20%20%20%20%3Aa6%2C%20after%20a1%2C%201%0A%0A%20%20%20%20section%20Phase%204%20%E2%80%94%20Verification%0A%20%20%20%20mkdocs%20build%20%2B%20serve%20%2B%20strict%20%3Aa7%2C%20after%20a2%2C%201%0A"})]),fallback:t(()=>[...e[2]||(e[2]=[n(" Loading... ",-1)])]),_:1})),e[5]||(e[5]=d('<p>Phase 2 tasks (mkdocs.yml, index.md, requirements.txt, all <code>.pages</code>) are fully independent — different files, no shared state. Phase 3 (CI workflow) can run in parallel with Phase 2.</p><h2 id="tech-debt" tabindex="-1">Tech Debt <a class="header-anchor" href="#tech-debt" aria-label="Permalink to &quot;Tech Debt&quot;">​</a></h2><p>None anticipated for this feature. MkDocs Material is stable; the <code>awesome-pages</code> plugin is a mature community standard. If the spec count grows beyond ~50, consider adding <code>mkdocs-gen-files</code> to auto-generate <code>.pages</code> files, but that&#39;s premature now.</p><h2 id="risks-mitigations" tabindex="-1">Risks &amp; Mitigations <a class="header-anchor" href="#risks-mitigations" aria-label="Permalink to &quot;Risks &amp; Mitigations&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Risk</th><th>Impact</th><th>Mitigation</th></tr></thead><tbody><tr><td>GitHub Pages not enabled in repo settings</td><td>H</td><td>Document as prerequisite (FR-10); CI will fail clearly with 404</td></tr><tr><td><code>mkdocs-mermaid2-plugin</code> version conflict</td><td>M</td><td>Don&#39;t use it — use <code>pymdownx.superfences</code> + CDN as specified</td></tr><tr><td><code>docs_dir: ../../specs/</code> relative path wrong when run from subdirectory</td><td>M</td><td>Always invoke <code>mkdocs</code> from repo root; document in CLAUDE.md</td></tr><tr><td>Spec with broken mermaid syntax fails build</td><td>L</td><td>Mermaid errors are browser-side; <code>mkdocs build --strict</code> won&#39;t catch them (not a hard failure)</td></tr><tr><td><code>.pages</code> nav lists a file that doesn&#39;t exist in the folder</td><td>M</td><td><code>mkdocs build --strict</code> will error; run strict mode in verification</td></tr><tr><td>CDN mermaid.js unavailable (offline CI)</td><td>L</td><td>GitHub Actions runners have internet access; CDN is reliable</td></tr><tr><td><code>pr-description.md</code> or <code>analysis-report.md</code> absent from some folders</td><td>L</td><td><code>awesome-pages</code> only shows files that exist; missing files simply don&#39;t appear</td></tr></tbody></table><h2 id="reviewer-checklist" tabindex="-1">Reviewer Checklist <a class="header-anchor" href="#reviewer-checklist" aria-label="Permalink to &quot;Reviewer Checklist&quot;">​</a></h2><ul><li>[ ] <code>mkdocs build -f docs/specs/mkdocs.yml</code> exits 0 from repo root</li><li>[ ] <code>mkdocs build --strict -f docs/specs/mkdocs.yml</code> exits 0 (no broken links/warnings)</li><li>[ ] <code>site_build/</code> directory created after build; gitignored</li><li>[ ] All 7 spec folders have <code>.pages</code> files with human-readable titles</li><li>[ ] Root <code>specs/.pages</code> lists all 7 folders in order</li><li>[ ] <code>docs/specs/requirements.txt</code> pins <code>mkdocs-material</code>, <code>awesome-pages</code>, <code>pymdown-extensions</code></li><li>[ ] <code>docs/specs/index.md</code> has spec index table with all 7 specs</li><li>[ ] <code>deploy-specs-site.yml</code> triggers on <code>specs/**</code> and <code>docs/specs/**</code> paths</li><li>[ ] <code>deploy-specs-site.yml</code> uses <code>permissions: contents: write</code></li><li>[ ] <code>.gitignore</code> contains <code>site_build/</code></li><li>[ ] <code>CLAUDE.md</code> contains <code>mkdocs serve -f docs/specs/mkdocs.yml</code></li><li>[ ] Constitution V (Polyglot) and VI (Local-First) pass</li><li>[ ] No TODO/FIXME without tracking</li></ul>',7))])}const E=c(h,[["render",m]]);export{A as __pageData,E as default};
